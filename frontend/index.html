<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="xBV5kZVqrAwpc89Gzd8anwWGE6SXUb9bIFz0-PdpE3o" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Trading-X</title>
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192x192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="Trading-X - AI Í∏∞Î∞ò Ïã§ÏãúÍ∞Ñ Ìä∏Î†àÏù¥Îî© ÌîåÎû´Ìèº. ÎπÑÌä∏ÏΩîÏù∏, ÎÇòÏä§Îã•, Í≥®Îìú Îì± Í∏ÄÎ°úÎ≤å ÏûêÏÇ∞ÏùÑ Ïã§ÏãúÍ∞ÑÏúºÎ°ú Í±∞ÎûòÌïòÏÑ∏Ïöî.">
    <meta name="keywords" content="Trading-X, trading-x.ai, Ìä∏Î†àÏù¥Îî©, ÎπÑÌä∏ÏΩîÏù∏, ÎÇòÏä§Îã•, Í≥®Îìú, MT5, Ïã§ÏãúÍ∞Ñ Í±∞Îûò, AI Ìä∏Î†àÏù¥Îî©">
    <meta property="og:title" content="Trading-X | AI Trading Platform">
    <meta property="og:description" content="AI Í∏∞Î∞ò Ïã§ÏãúÍ∞Ñ Ìä∏Î†àÏù¥Îî© ÌîåÎû´Ìèº. ÎπÑÌä∏ÏΩîÏù∏, ÎÇòÏä§Îã•, Í≥®Îìú Îì± Í∏ÄÎ°úÎ≤å ÏûêÏÇ∞ÏùÑ Í±∞ÎûòÌïòÏÑ∏Ïöî.">
    <meta property="og:url" content="https://trading-x.ai">
    <meta property="og:type" content="website">
    <link rel="canonical" href="https://trading-x.ai/">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <script>
        // ‚òÖ‚òÖ‚òÖ Ïù∏Ìä∏Î°ú/Ïä§ÌîåÎûòÏãú Î∂ÑÍ∏∞ ‚Äî ÌÜ†ÌÅ∞ Ïú†Î¨¥ + 30Î∂Ñ ÎπÑÌôúÎèô Ï≤¥ÌÅ¨ ‚òÖ‚òÖ‚òÖ
        (function() {
            // 0. welcome/introÏóêÏÑú ÎèåÏïÑÏò® Í≤ΩÏö∞ Ïä§ÌÇµ + ÌôúÎèôÏãúÍ∞Ñ Í∞±Ïã†
            if (location.search.includes('from_welcome=1') || location.search.includes('from_intro=1')) {
                localStorage.setItem('intro_shown', 'true');
                localStorage.setItem('last_active_ts', Date.now().toString());
                return;
            }
            // 1. Î¨¥ÌïúÎ£®ÌîÑ Î∞©ÏßÄ (3Ï¥à ÎÇ¥ Ïû¨ÏßÑÏûÖ Ï∞®Îã®)
            var lastRedirect = sessionStorage.getItem('intro_redirect_ts');
            if (lastRedirect && (Date.now() - parseInt(lastRedirect)) < 3000) return;

            var token = localStorage.getItem('access_token');

            // 2. Î°úÍ∑∏Ïù∏ Ïú†Ï†Ä ‚Üí 30Î∂Ñ ÎπÑÌôúÎèô Ïãú welcome.html
            if (token) {
                var lastActive = parseInt(localStorage.getItem('last_active_ts') || '0');
                var thirtyMin = 30 * 60 * 1000;
                if (lastActive > 0 && (Date.now() - lastActive) < thirtyMin) {
                    // 30Î∂Ñ Ïù¥ÎÇ¥ ‚Üí Ïä§ÌÇµ, ÌôúÎèôÏãúÍ∞ÑÎßå Í∞±Ïã†
                    localStorage.setItem('last_active_ts', Date.now().toString());
                    return;
                }
                // 30Î∂Ñ Ïù¥ÏÉÅ ÎòêÎäî Ï≤´ Ï†ëÏÜç ‚Üí welcome Ïä§ÌîåÎûòÏãú
                sessionStorage.setItem('intro_redirect_ts', Date.now().toString());
                window.location.replace('welcome.html');
                return;
            }

            // 3. ÎπÑÎ°úÍ∑∏Ïù∏ Ïú†Ï†Ä ‚Üí Ïù∏Ìä∏Î°ú Ïù¥ÎØ∏ Î¥§ÏúºÎ©¥ Ïä§ÌÇµ
            if (localStorage.getItem('intro_shown')) return;
            if (sessionStorage.getItem('intro_shown')) return;

            // 4. Ïù∏Ìä∏Î°ú Ïïà Î¥§ÏúºÎ©¥ ‚Üí intro.html
            sessionStorage.setItem('intro_redirect_ts', Date.now().toString());
            window.location.replace('intro.html');
        })();
    </script>
    <script src="https://unpkg.com/lightweight-charts@3.8.0/dist/lightweight-charts.standalone.production.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css?v=1771411688">
        <link rel="stylesheet" href="css/quickeasy.css?v=1771411688">
    <link rel="stylesheet" href="css/chart.css?v=1771411688">
</head>
<body>
    <div class="app">
        <!-- Ìó§Îçî -->
        <div class="header">
            <div class="header-title" style="font-size: 23px; font-weight: 700; display: flex; align-items: center; color: #ffffff; cursor: pointer;" onclick="window.location.reload()">
                <svg width="32" height="23" viewBox="0 0 32 23" style="margin-right: 10px; vertical-align: middle;">
                    <rect x="1" y="1" width="30" height="21" rx="3" fill="none" stroke="#00d4ff" stroke-width="2"/>
                    <text x="16" y="16.5" font-size="14" font-weight="900" fill="#00d4ff" font-family="Arial" text-anchor="middle">TX</text>
                </svg>
                Trading-X
            </div>
            <div class="header-status">
                <span id="modeBadge" style="display: none; padding: 3px 8px; border-radius: 4px; font-size: 10px; font-weight: bold; margin-right: 8px; letter-spacing: 0.5px;"></span>
                <div class="status-dot disconnected" id="statusDot"></div>
                <span id="headerStatus">Connecting...</span>
            </div>
        </div>
        
        <!-- Ïª®ÌÖêÏ∏† -->
        <div class="content">
            <!-- ========== Ìôà ÌÉ≠ ========== -->
            <div class="page active" id="page-home">
                
                <!-- Í∏¥Í∏â Í≥µÏßÄ Î∞∞ÎÑà -->
                <div class="notice-banner" id="noticeBanner" style="display: none;">
                    <div class="notice-content">
                        <span class="notice-icon">üì¢</span>
                        <span class="notice-text" id="noticeText">ÏÑúÎ≤Ñ Ï†êÍ≤Ä ÏïàÎÇ¥ (1/20 02:00~04:00)</span>
                    </div>
                    <button class="notice-close" onclick="closeNoticeBanner()">‚úï</button>
                </div>
                
                <!-- ÌÜµÌï© Ìôà Ïä¨ÎùºÏù¥Îçî -->
                <div class="home-slider-container">
                    <div class="home-slider" id="homeSlider">
                        
                        <!-- Ïπ¥Îìú 1: Ïù∏ÏÇ¨Îßê + ÎùºÏù¥Î∏å Í≥ÑÏ¢å ÏïàÎÇ¥ -->
                        <div class="home-slide">
                            <div class="home-slide-content greeting-slide">
                                <!-- Ïù∏ÏÇ¨Îßê -->
                                <div class="greeting-section">
                                    <span class="greeting-text" id="greetingText">Good Afternoon! üå§Ô∏è</span>
                                    <span class="greeting-sub" id="greetingSub">Ïò§ÌõÑÎèÑ ÌôîÏù¥ÌåÖ!</span>
                                </div>
                                
                                <!-- ÎùºÏù¥Î∏å Í≥ÑÏ¢å CTA (ÎØ∏Ïó∞Í≤∞ Ïãú) -->
                                <div class="live-cta-simple" id="liveCTANotConnected">
                                    <p class="live-cta-desc">ÎùºÏù¥Î∏å Í≥ÑÏ¢åÎ•º Ïó∞Í≤∞ÌïòÍ≥† Ïã§Í±∞ÎûòÎ•º ÏãúÏûëÌïòÏÑ∏Ïöî!</p>
                                    <button class="live-cta-btn" onclick="openMT5ConnectModal()">
                                        <span class="material-icons-round">link</span>
                                        ÎùºÏù¥Î∏å Í≥ÑÏ¢å Ïó∞Í≤∞
                                    </button>
                                </div>
                                
                                <!-- ÎùºÏù¥Î∏å Í≥ÑÏ¢å CTA (Ïó∞Í≤∞Îê®) -->
                                <div class="live-cta-simple connected" id="liveCTAConnected" style="display: none;">
                                    <p class="live-cta-desc success">Ïã§Í±∞Îûò Ï§ÄÎπÑ ÏôÑÎ£å! Ïò§ÎäòÎèÑ ÏÑ±Í≥µÏ†ÅÏù∏ Ìä∏Î†àÏù¥Îî© ÎêòÏÑ∏Ïöî üí™</p>
                                    <button class="live-cta-btn success" onclick="switchToTrading()">
                                        <span class="material-icons-round">trending_up</span>
                                        Í±∞Îûò ÏãúÏûëÌïòÍ∏∞
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ïπ¥Îìú 2: Ïù¥Ïö©Í∞ÄÏù¥Îìú (ÎØ∏ÎãàÎ©Ä) -->
<div class="home-slide">
    <div class="home-slide-content guide-slide">
        <div class="guide-label">GUIDE</div>
        <div class="guide-title">Ï≤òÏùåÏù¥Ïã†Í∞ÄÏöî?</div>
        <p class="guide-desc">3Î∂ÑÏù¥Î©¥ Ï∂©Î∂ÑÌï¥Ïöî!</p>
        <p class="guide-desc-sub">ÏπúÏ†àÌïú ÌäúÌÜ†Î¶¨ÏñºÍ≥º Ìï®Íªò ÏãúÏûëÌïòÏÑ∏Ïöî</p>
        <button class="guide-btn" onclick="startGuideTour()">
            ÏãúÏûëÌïòÍ∏∞
            <span class="material-icons-round">arrow_forward</span>
        </button>
    </div>
</div>
                        
                        <!-- Ïπ¥Îìú 3: ÏÖÄÌçºÎü¥/Î¶¨Î≤†Ïù¥Ìä∏ ÏïàÎÇ¥ -->
                        <div class="home-slide">
                            <div class="home-slide-content referral-slide">
                                <div class="referral-title">ÏÖÄÌçºÎü¥ Î¶¨Î≤†Ïù¥Ìä∏</div>
                                <div class="referral-highlight">
                                    <span class="referral-amount">ÏµúÎåÄ $2</span>
                                    <span class="referral-unit">/ lot</span>
                                </div>
                                <p class="referral-desc">Í±∞ÎûòÎüâÏóê Îî∞Îùº Ï∫êÏãúÎ∞±ÏùÑ ÎèåÎ†§Î∞õÏúºÏÑ∏Ïöî</p>
                                <button class="referral-btn" onclick="openReferralPage()">
                                    ÏûêÏÑ∏Ìûà Î≥¥Í∏∞
                                    <span class="material-icons-round">arrow_forward</span>
                                </button>
                            </div>
                        </div>
                        
                    </div>
                    
                    <!-- Ïä¨ÎùºÏù¥Îìú Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ -->
                    <div class="home-slider-indicators">
                        <span class="home-dot active" data-index="0"></span>
                        <span class="home-dot" data-index="1"></span>
                        <span class="home-dot" data-index="2"></span>
                    </div>
                </div>
                
                <!-- Trading Mode Ï†ÑÌôò -->
                <div class="card trading-mode-card">
                    <div class="card-title" style="font-size: 16px; font-weight: 700;">
                        <span class="material-icons-round" style="color: #00d4ff; margin-right: 8px; font-size: 18px;">sync_alt</span>
                        <span style="position: relative; top: -3px;">Trading Mode</span>
                    </div>
                    <div class="trading-mode-selector">
                        <button class="mode-select-btn active" id="modeDemoBtn" onclick="switchTradingMode('demo')">
                            <div class="mode-select-info" style="text-align: center; width: 100%;">
                                <div class="mode-select-name">DEMO</div>
                                <div class="mode-select-desc">Practice Trading</div>
                            </div>
                            <div class="mode-select-check" id="demoCheck">‚úì</div>
                        </button>
                        <button class="mode-select-btn" id="modeLiveBtn" onclick="switchTradingMode('live')">
                            <div class="mode-select-info" style="text-align: center; width: 100%;">
                                <div class="mode-select-name">LIVE</div>
                                <div class="mode-select-desc">Real Trading</div>
                            </div>
                            <div class="mode-select-check" id="liveCheck" style="display: none;">‚úì</div>
                        </button>
                    </div>
                    <div class="mode-status" id="modeStatus">
                        <span class="mode-status-dot demo"></span>
                        <span>Currently in <strong>Demo Mode</strong> - Practice with virtual $10,000</span>
                    </div>
                </div>
                
                <!-- MT5 Account Ïó∞Í≤∞ -->
                <div class="card trading-mode-card" id="mt5AccountSection">
                    <div class="card-title" style="font-size: 16px; font-weight: 700;">
                        <span class="material-icons-round" style="color: #00d4ff; margin-right: 8px; font-size: 18px;">link</span>
                        <span style="position: relative; top: -3px;">MT5 Account</span>
                    </div>
                    
                    <!-- Ïó∞Í≤∞ Ïïà Îê® ÏÉÅÌÉú -->
                    <div class="mt5-not-connected" id="mt5NotConnected" style="padding: 15px 10px;">
                        <div style="display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 15px;">
                            <div style="font-size: 36px; opacity: 0.7;">üîó</div>
                            <div style="text-align: left;">
                                <div class="mt5-empty-text" style="font-size: 16px; font-weight: 600; margin-bottom: 2px;">ÏïÑÏßÅ Ïó∞Í≤∞Îêú MT5 Í≥ÑÏ¢åÍ∞Ä ÏóÜÏäµÎãàÎã§</div>
                                <div class="mt5-empty-sub" style="font-size: 12px; margin: 0;">Live Í±∞ÎûòÎ•º ÏúÑÌï¥ MT5 Í≥ÑÏ¢åÎ•º Ïó∞Í≤∞ÌïòÏÑ∏Ïöî</div>
                            </div>
                        </div>
                        <div class="mt5-buttons">
                            <button class="mt5-connect-btn" onclick="openMT5ConnectModal()">
                                <span class="material-icons-round" style="font-size: 18px;">link</span>
                                MT5 Í≥ÑÏ¢å Ïó∞Í≤∞ÌïòÍ∏∞
                            </button>
                            <button class="mt5-guide-btn" onclick="openMT5GuideModal()">
                                <span class="material-icons-round" style="font-size: 18px;">help_outline</span>
                                Ïã†Í∑ú Í≥ÑÏ¢å Í∞úÏÑ§ ÏïàÎÇ¥
                            </button>
                        </div>
                    </div>
                    
                    <!-- Ïó∞Í≤∞Îê® ÏÉÅÌÉú -->
                    <!-- Ïó∞Í≤∞Îê® ÏÉÅÌÉú -->
<div class="mt5-connected" id="mt5Connected" style="display: none; position: relative;">
    <div class="mt5-status-badge" style="position: absolute; top: -35px; right: 0;">
        <span class="mt5-status-dot"></span>
        Connected
    </div>
                        <div class="mt5-info-grid">
                            <div class="mt5-info-item">
                                <span class="mt5-info-label">Broker</span>
                                <span class="mt5-info-value" id="mt5Broker">-</span>
                            </div>
                            <div class="mt5-info-item">
                                <span class="mt5-info-label">Account</span>
                                <span class="mt5-info-value" id="mt5Account">-</span>
                            </div>
                            <div class="mt5-info-item">
                                <span class="mt5-info-label">Server</span>
                                <span class="mt5-info-value" id="mt5Server">-</span>
                            </div>
                            <div class="mt5-info-item">
                                <span class="mt5-info-label">Leverage</span>
                                <span class="mt5-info-value" id="mt5Leverage">-</span>
                            </div>
                            <div class="mt5-info-item" style="border-top: 1px solid var(--border-color); padding-top: 8px; margin-top: 4px;">
                                <span class="mt5-info-label">Trading API</span>
                                <span class="mt5-info-value" id="mt5MetaapiStatus" style="font-size: 12px;">-</span>
                            </div>
                        </div>
                        <button class="mt5-disconnect-btn" onclick="disconnectMT5()">
                            <span class="material-icons-round" style="font-size: 16px;">link_off</span>
                            Ïó∞Í≤∞ Ìï¥Ï†ú
                        </button>
                    </div>
                </div>
                
                <!-- Account Overview (ÌÜµÌï©) -->
                <div class="card trading-mode-card" id="accountOverview">
                    <div class="card-title" style="font-size: 16px; font-weight: 700;">
                        <span class="material-icons-round" style="color: #00d4ff; margin-right: 8px; font-size: 18px;">account_balance</span>
                        <span style="position: relative; top: -3px;">Account Overview</span>
                    </div>
                    
                    <!-- Í≥ÑÏ†ï Ï†ïÎ≥¥ Î∞ïÏä§ -->
                    <div style="background: var(--bg-tertiary); border-radius: 10px; padding: 12px 15px; margin-bottom: 10px;">
                        <div class="info-row" style="border-bottom: 1px solid var(--border-color);"><span class="info-label">Broker</span><span class="info-value" id="homeBroker">-</span></div>
                        <div class="info-row" style="border-bottom: 1px solid var(--border-color);"><span class="info-label">Account</span><span class="info-value" id="homeAccount">-</span></div>
                        <div class="info-row" style="border-bottom: 1px solid var(--border-color);"><span class="info-label">Leverage</span><span class="info-value" id="homeLeverage">-</span></div>
                        <div class="info-row" style="border-bottom: none;"><span class="info-label">Server</span><span class="info-value" id="homeServer">-</span></div>
                    </div>
                    
                    <!-- ÏûêÏÇ∞ Ï†ïÎ≥¥ Î∞ïÏä§ -->
                    <div style="background: var(--bg-tertiary); border-radius: 10px; padding: 12px 15px;">
                        <div class="info-row" style="border-bottom: 1px solid var(--border-color);"><span class="info-label">Balance</span><span class="info-value" id="homeBalance">$0.00</span></div>
                        <div class="info-row" style="border-bottom: 1px solid var(--border-color);"><span class="info-label">Equity</span><span class="info-value" id="homeEquity">$0.00</span></div>
                        <div class="info-row" style="border-bottom: 1px solid var(--border-color);"><span class="info-label">Free Margin</span><span class="info-value" id="homeFreeMargin">$0.00</span></div>
                        <div class="info-row" style="border-bottom: none;"><span class="info-label">Open Positions</span><span class="info-value" id="homePositions">0</span></div>
                    </div>
                </div>
                
                <!-- Demo Ï∂©Ï†Ñ Î≤ÑÌäº (Demo Î™®ÎìúÏóêÏÑúÎßå ÌëúÏãú) -->
                <div class="card trading-mode-card" id="demoControlCard" style="display: none;">
                    <div class="card-title" style="font-size: 16px; font-weight: 700;">
                        <span class="material-icons-round" style="color: #00d4ff; margin-right: 8px; font-size: 18px;">monetization_on</span><span style="position: relative; top: -3px;">Demo Control</span>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 12px;">
                        <button onclick="topupDemo()" style="flex: 1; padding: 14px; background: linear-gradient(135deg, #00b450, #00d46a); border: none; border-radius: 10px; color: white; font-weight: 700; cursor: pointer; font-size: 14px; display: flex; align-items: center; justify-content: center; gap: 6px;">
                            <span class="material-icons-round" style="font-size: 18px;">add_card</span> $10,000 Ï∂©Ï†Ñ
                        </button>
                        <button onclick="resetDemo()" style="flex: 1; padding: 14px; background: linear-gradient(135deg, #ff6b35, #ff8c42); border: none; border-radius: 10px; color: white; font-weight: 700; cursor: pointer; font-size: 14px; display: flex; align-items: center; justify-content: center; gap: 6px;">
                            <span class="material-icons-round" style="font-size: 18px;">restart_alt</span> ÏûîÍ≥† Î¶¨ÏÖã
                        </button>
                    </div>
                    <p style="font-size: 12px; color: #ffffff; margin-top: 10px; text-align: center;">üíé ÏµúÎåÄ ÏûîÍ≥†: $100,000</p>
                </div>
            </div>
            
            <!-- ========== Ï∞®Ìä∏ ÌÉ≠ ========== -->
            <div class="page zm-mode" id="page-chart">
                
                <!-- Ï¢ÖÎ™© Î™©Î°ù (Watchlist) -->
                <div class="watchlist-container" id="watchlistContainer">
                    <div class="watchlist-header">
                        <button class="watchlist-search" onclick="openSymbolSearch()">
                            <span class="material-icons-round" style="font-size: 20px;">search</span>
                        </button>
                        <div class="watchlist-tabs" id="watchlistTabs">
                            <button class="watchlist-tab active" onclick="switchWatchlistTab('popular')" data-tab="popular">Popular</button>
                            <button class="watchlist-tab" onclick="switchWatchlistTab('favorites')" data-tab="favorites">‚≠ê Favorites</button>
                            <button class="watchlist-tab" onclick="switchWatchlistTab('forex')" data-tab="forex">Forex</button>
                            <button class="watchlist-tab" onclick="switchWatchlistTab('crypto')" data-tab="crypto">Crypto</button>
                            <button class="watchlist-tab" onclick="switchWatchlistTab('indices')" data-tab="indices">Indices</button>
                            <button class="watchlist-tab" onclick="switchWatchlistTab('metals')" data-tab="metals">Metals</button>
                            <button class="watchlist-tab" onclick="switchWatchlistTab('energy')" data-tab="energy">Energy</button>
                        </div>
                    </div>
                    <div class="watchlist-content" id="watchlistContent">
                        <!-- Ï¢ÖÎ™©Îì§Ïù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê® -->
                    </div>
                </div>
                
                <!-- Ï∞®Ìä∏ ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄ -->
                <div class="chart-detail-container" id="chartDetailContainer">
                
                <!-- Ï∞®Ìä∏ Í∏ÄÎ°úÏö∞ Î∞ïÏä§ (Ìó§Îçî + Ï∞®Ìä∏ + Ìò∏Í∞Ä) -->
                <div class="chart-glow-box">

                <!-- Í∞ÄÎ°úÎ™®Îìú Îã´Í∏∞ Î≤ÑÌäº -->
                <button class="zm-close-landscape" onclick="zmRotateScreen()">
                    <span class="material-icons-round">close</span>
                </button>    
                
                <!-- Symbol Row -->
                <div class="chart-symbol-row">
                    <div class="chart-symbol-info">
                        <span class="chart-symbol-icon" id="chartSymbolIcon" style="color: #f7931a;">‚Çø</span>
                        <div>
                            <span class="chart-symbol-name" id="chartSymbolName">Bitcoin</span>
                            <div class="chart-symbol-id" id="chartSymbolId">BTCUSD</div>
                        </div>
                    </div>
                    
                    <!-- Î≤ÑÌäº Í∑∏Î£π (Ï†úÎ°úÎßàÏºì Ïä§ÌÉÄÏùº ÏïÑÏù¥ÏΩò) -->
                    <div class="chart-btn-group zm-icons">
                        <button class="zm-icon-btn zm-icon-lg" onclick="zmOpenSearch()">
                            <span class="material-icons-round">search</span>
                        </button>
                        <button class="zm-icon-btn zm-icon-lg" onclick="zmToggleFavorite()">
                            <span class="material-icons-round" id="zmFavoriteIcon">star_border</span>
                        </button>
                        <button class="zm-icon-btn zm-icon-lg" onclick="zmOpenSymbolInfo()">
                            <span class="material-icons-round">info_outline</span>
                        </button>
                        <button class="zm-icon-btn zm-icon-sm" onclick="zmRotateScreen()">
                            <span class="material-icons-round">screen_rotation</span>
                        </button>
                    </div>
                    
                </div>
                
                <!-- Chart Wrapper (Î©îÏù∏ + Ìå®ÎÑê ÏßÄÌëú) -->
                <div id="chart-wrapper">
                    <!-- TradingView Í≥µÏãù Î°úÍ≥† (ÏôºÏ™Ω ÌïòÎã® - Ï†úÎ°úÎßàÏºì Ïä§ÌÉÄÏùº) -->
                    <div id="tradingview-logo" style="position: absolute; bottom: 35px; left: 10px; z-index: 100; pointer-events: none; opacity: 0.9;">
                        <div style="width: 36px; height: 36px; background: #1e222d; border: 1px solid rgba(255,255,255,0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.4);">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="#ffffff" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15.8654 8.2789c0 1.3541-1.0978 2.4519-2.452 2.4519-1.354 0-2.4519-1.0978-2.4519-2.452 0-1.354 1.0978-2.4518 2.452-2.4518 1.3541 0 2.4519 1.0977 2.4519 2.4519zM9.75 6H0v4.9038h4.8462v7.2692H9.75Zm8.5962 0H24l-5.1058 12.173h-5.6538z"/>
                            </svg>
                        </div>
                    </div>
                    <!-- ÌòÑÏû¨Í∞Ä Ïò§Î≤ÑÎ†àÏù¥ (Ï†úÎ°úÎßàÏºì Ïä§ÌÉÄÏùº) -->
                    <div id="chart-price-overlay" style="position: absolute; top: 8px; left: 10px; z-index: 100; pointer-events: none;">
                        <!-- 1Ï§Ñ: ÌòÑÏû¨Í∞Ä + Îì±ÎùΩ -->
                        <div style="display: flex; align-items: baseline; gap: 10px; margin-bottom: 2px;">
                            <span id="overlayPrice" style="font-size: 22px; font-weight: 700; color: #ffffff;">-</span>
                            <span id="overlayChange" style="font-size: 13px; font-weight: 600;">-</span>
                        </div>
                        <!-- 2Ï§Ñ: Ïã¨Î≥º ¬∑ ÌÉÄÏûÑÌîÑÎ†àÏûÑ ¬∑ Ïπ¥ÌÖåÍ≥†Î¶¨ ‚óè -->
                        <div style="display: flex; align-items: center; gap: 6px; font-size: 12px; color: rgba(255,255,255,0.9);">
                            <span id="overlaySymbol">BTCUSD</span>
                            <span style="color: #999;">¬∑</span>
                            <span id="overlayTimeframe">M5</span>
                            <span style="color: #999;">¬∑</span>
                            <span id="overlayCategory">Crypto Currency</span>
                            <span id="overlayMarketStatus" class="market-status-dot"></span>
                            <span id="overlayMarketStatusText" style="font-size: 11px; color: #dc3545; font-weight: 600; display: none;">Market Closed</span>
                        </div>
                    </div>
                    <!-- Î©îÏù∏ Ï∞®Ìä∏ -->
                    <div id="chart-container"></div>
                    
                    <!-- Ìå®ÎÑê ÏßÄÌëú ÏòÅÏó≠ (RSI, MACD Îì±) -->
                    <div id="indicator-panels">
                        <!-- ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê® -->
                    </div>
                </div>
                
                <!-- Price Bar -->
                <div class="price-bar">
                    <div class="price-box sell">
                        <div class="price-label">SELL (Bid)</div>
                        <div class="price-value" id="chartBid">-</div>
                    </div>
                    <div class="price-box buy">
                        <div class="price-label">BUY (Ask)</div>
                        <div class="price-value" id="chartAsk">-</div>
                    </div>
                </div>
                
                </div><!-- chart-glow-box Îã´Í∏∞ -->
                
                <!-- Signal Section -->
                <div class="chart-signal-section">
                    <div class="chart-signal-title">Technical Analysis</div>
                    
                    <!-- Signal Gauge -->
                    <div class="chart-gauge-container">
                        <svg width="280" height="130" viewBox="0 0 280 130">
                            <path id="chartSellArc" d="" fill="none" stroke="#dc3246" stroke-width="8" stroke-linecap="round"/>
                            <path id="chartBuyArc" d="" fill="none" stroke="#00b450" stroke-width="8" stroke-linecap="round"/>
                            <text x="140" y="14" text-anchor="middle" fill="#9ca3af" font-size="13" font-weight="600">Neutral</text>
                            <text x="40" y="45" text-anchor="middle" fill="#dc3246" font-size="16" font-weight="700">Sell</text>
                            <text x="240" y="45" text-anchor="middle" fill="#00b450" font-size="16" font-weight="700">Buy</text>
                            <text x="5" y="100" text-anchor="start" fill="#6b7280" font-size="11">Strong Sell</text>
                            <text x="275" y="100" text-anchor="end" fill="#6b7280" font-size="11">Strong Buy</text>
                            <line id="chartNeedleShadow" x1="141" y1="101" x2="141" y2="46" stroke="rgba(0,0,0,0.3)" stroke-width="5" stroke-linecap="round"/>
                            <line id="chartGaugeNeedle" x1="140" y1="100" x2="140" y2="45" stroke="#00d4ff" stroke-width="4" stroke-linecap="round"/>
                            <circle cx="140" cy="100" r="12" fill="#0a3040" stroke="#00d4ff" stroke-width="2"/>
                            <circle cx="140" cy="100" r="6" fill="#00d4ff"/>
                        </svg>
                        <div class="chart-gauge-status title-font" id="chartGaugeStatus" style="color: #646473;">Neutral</div>
                    </div>
                    
                    <!-- Indicator Summary -->
                    <div class="chart-indicator-summary">
                        <div class="chart-indicator-item">
                            <div class="chart-indicator-count title-font" id="chartIndSell" style="color: #dc3246; font-family: Orbitron, sans-serif !important;">0</div>
                            <div class="chart-indicator-label">Sell</div>
                        </div>
                        <div class="chart-indicator-item">
                            <div class="chart-indicator-count title-font" id="chartIndNeutral" style="color: #646473; font-family: Orbitron, sans-serif !important;">0</div>
                            <div class="chart-indicator-label">Neutral</div>
                        </div>
                        <div class="chart-indicator-item">
                            <div class="chart-indicator-count title-font" id="chartIndBuy" style="color: #00b450; font-family: Orbitron, sans-serif !important;">0</div>
                            <div class="chart-indicator-label">Buy</div>
                        </div>
                    </div>
                </div>
                
                <!-- Ï¢ÖÎ™© Ï†ïÎ≥¥ ÏÑπÏÖò -->
                <div class="symbol-info-section">
                    <!-- ÏÑπÏÖò Ìó§Îçî -->
                    <div class="info-section-header" onclick="toggleSymbolInfoSection()">
                        <div class="info-section-title">
                            <span class="material-icons-round icon">info</span>
                            <span class="text">Ï¢ÖÎ™© Ï†ïÎ≥¥</span>
                        </div>
                        <span class="material-icons-round info-toggle-icon" id="symbolInfoToggleIcon">expand_more</span>
                    </div>
                    
                    <!-- Ï†ïÎ≥¥ Ïª®ÌÖêÏ∏† -->
                    <div class="symbol-info-content" id="symbolInfoContent">
                        
                        <!-- Ï¢ÖÎ™©Î™Ö Ìó§Îçî -->
                        <div class="symbol-name-header">
                            <span class="symbol-name-icon" id="infoSymbolIcon" style="color: #f7931a;">‚Çø</span>
                            <div class="symbol-name-info">
                                <div class="symbol-name-main" id="infoSymbolName">Bitcoin</div>
                                <div class="symbol-name-sub" id="infoSymbolDesc">Digital Cryptocurrency</div>
                            </div>
                            <div class="info-section-badge" id="infoSymbolId">BTCUSD</div>
                        </div>
                        
                        <!-- Í∏∞Î≥∏ Ï†ïÎ≥¥ Í∑∏Î£π -->
                        <div class="info-group">
                            <div class="info-group-title">Í∏∞Î≥∏ Ï†ïÎ≥¥</div>
                            
                            <div class="info-row">
                                <span class="info-label">Îûè ÏÇ¨Ïù¥Ï¶à</span>
                                <span class="info-value" id="infoLotSize">1 BTC</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">ÏµúÏÜå Í∞ÄÍ≤© Î≥ÄÎèô</span>
                                <span class="info-value" id="infoTickSize">0.01</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">ÏµúÏÜå Í±∞ÎûòÎüâ</span>
                                <span class="info-value" id="infoMinLot">0.01 lot</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">ÏµúÎåÄ Í±∞ÎûòÎüâ</span>
                                <span class="info-value" id="infoMaxLot">100.00 lot</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Ìïç ÏÇ¨Ïù¥Ï¶à</span>
                                <span class="info-value highlight" id="infoPipSize">0.01 (2 digits)</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Stop levels</span>
                                <span class="info-value" id="infoStopLevel">0</span>
                            </div>
                        </div>
                        
                        <!-- Ïä§ÌîÑÎ†àÎìú & Ïä§Ïôë Í∑∏Î£π -->
                        <div class="info-group">
                            <div class="info-group-title">Ïä§ÌîÑÎ†àÎìú & Ïä§Ïôë</div>
                            
                            <div class="info-row">
                                <span class="info-label">Î≥ÄÎèô Ïä§ÌîÑÎ†àÎìú</span>
                                <div style="text-align: right;">
                                    <div class="info-value" id="infoSpread">15.00 ‚Ä¢ 0.016%</div>
                                    <div class="info-value-sub" id="infoSpreadPips">150 pips</div>
                                </div>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Ïä§Ïôë Î°±</span>
                                <div style="text-align: right;">
                                    <div class="info-value" id="infoSwapLong">-0.5 ‚Ä¢ -0.0005%</div>
                                    <div class="info-value-sub">Í±∞Îûò Í∑úÎ™®Îãπ 1Ïùº</div>
                                </div>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Ïä§Ïôë Ïàè</span>
                                <div style="text-align: right;">
                                    <div class="info-value" id="infoSwapShort">-0.5 ‚Ä¢ -0.0005%</div>
                                    <div class="info-value-sub">Í±∞Îûò Í∑úÎ™®Îãπ 1Ïùº</div>
                                </div>
                            </div>
                            <div class="info-row">
                                <span class="info-label">3Ïùº Ïä§Ïôë</span>
                                <span class="info-value highlight" id="infoSwap3Day">Wednesday</span>
                            </div>
                        </div>
                        
                        <!-- Í±∞Îûò ÏãúÍ∞Ñ Í∑∏Î£π -->
                        <div class="info-group">
                            <div class="info-group-title">Í±∞Îûò ÏãúÍ∞Ñ</div>
                            
                            <div class="trading-hours-grid" id="tradingHoursGrid">
                                <span class="trading-day">ÏùºÏöîÏùº</span>
                                <span class="trading-time" id="infoHoursSun">23:00 - 23:59</span>
                                
                                <span class="trading-day">ÏõîÏöîÏùº</span>
                                <span class="trading-time" id="infoHoursMon">00:00 - 23:59</span>
                                
                                <span class="trading-day">ÌôîÏöîÏùº</span>
                                <span class="trading-time" id="infoHoursTue">00:00 - 23:59</span>
                                
                                <span class="trading-day">ÏàòÏöîÏùº</span>
                                <span class="trading-time" id="infoHoursWed">00:00 - 23:59</span>
                                
                                <span class="trading-day">Î™©ÏöîÏùº</span>
                                <span class="trading-time" id="infoHoursThu">00:00 - 23:59</span>
                                
                                <span class="trading-day">Í∏àÏöîÏùº</span>
                                <span class="trading-time" id="infoHoursFri">00:00 - 23:59</span>
                                
                                <span class="trading-day">ÌÜ†ÏöîÏùº</span>
                                <span class="trading-time closed" id="infoHoursSat">‚Äî</span>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                <!-- Ï†úÎ°úÎßàÏºì Ïä§ÌÉÄÏùº ÌïòÎã® Î∞î -->
                <div class="zm-bottom-bar">
                    <button class="zm-more-btn" onclick="openZmTimeframe()">
                        <span class="material-icons-round">bar_chart</span>
                        <span id="zmTfText">1m</span>
                    </button>
                    <button class="zm-tf-btn" onclick="openZmMoreMenu()">
                        <span class="material-icons-round">tune</span>
                    </button>
                    <div class="zm-trade-buttons">
                        <button class="zm-sell-btn" onclick="openSellOrder()">SELL</button>
                        <button class="zm-buy-btn" onclick="openBuyOrder()">BUY</button>
                    </div>
                </div>

                <!-- Ï¢ÖÎ™© Ï†ïÎ≥¥ Ïä¨ÎùºÏù¥Îìú Ìå®ÎÑê -->
                <div class="zm-info-panel" id="zmInfoPanel">
                    <div class="zm-info-header">
                        <button class="zm-back-btn" onclick="closeZmInfoPanel()">
                            <span class="material-icons-round">arrow_back</span>
                            <span>Ï¢ÖÎ™© Ï†ïÎ≥¥</span>
                        </button>
                    </div>
                    <div class="zm-info-body" id="zmInfoBody">
                        <!-- Ï¢ÖÎ™© Ï†ïÎ≥¥ ÎÇ¥Ïö©Ïù¥ Ïó¨Í∏∞Ïóê Î≥µÏÇ¨Îê® -->
                    </div>
                </div>

                </div><!-- chartDetailContainer Îã´Í∏∞ -->

            </div>
            
            <!-- ========== Trade ÌÉ≠ ========== -->
            <div class="page" id="page-trade">
                
                <!-- Buy/Sell Pro (Í∏∞Î≥∏) -->
                <div class="buysell-panel" id="buysellPanel">
                <div class="ea-panel">
                    <!-- EA Header -->
                    <div class="ea-header">
                        <div class="ea-title title-font">Buy/Sell Pro</div>
                        <button class="settings-btn" onclick="openSettings()">
                            <svg width="20" height="16" viewBox="0 0 20 16" fill="currentColor">
                                <rect y="0" width="20" height="2" rx="1"/>
                                <rect y="7" width="20" height="2" rx="1"/>
                                <rect y="14" width="20" height="2" rx="1"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="ea-content">
                        <!-- Symbol & Stats Bar (ÌÜµÌï©) -->
                        <div class="symbol-stats-bar">
                            <div class="stat-item-compact" style="border-left: none;">
                                <div class="stat-label-sm">Symbol</div>
                                <div class="stat-value-sm" style="display: flex; align-items: center; justify-content: center; gap: 4px;">
                                    <span id="tradeSymbolIcon" style="color: #f7931a; font-size: 14px;">‚Çø</span>
                                    <span id="tradeSymbolName">Bitcoin</span>
                                </div>
                                <span id="tradeSymbolId" style="display: none;">BTCUSD</span>
                            </div>
                            <div class="stat-item-compact">
                                <div class="stat-label-sm">Balance</div>
                                <div class="stat-value-sm" id="tradeBalance">$0</div>
                            </div>
                            <div class="stat-item-compact">
                                <div class="stat-label-sm">Lot Size</div>
                                <div class="stat-value-sm" id="tradeLotSize">0.01</div>
                            </div>
                            <div class="stat-item-compact">
                                <div class="stat-label-sm">Today</div>
                                <div class="stat-value-sm" id="tradeTodayPL" style="color: var(--buy-color);">+$0</div>
                            </div>
                        </div>
                        
                        <!-- Symbol Dropdown -->
                        <div class="symbol-dropdown" id="symbolDropdown">
                            <div class="symbol-option selected" data-symbol="BTCUSD" data-name="Bitcoin" data-icon="‚Çø" data-color="#f7931a" onclick="selectSymbol(this)">
                                <span class="symbol-option-icon" style="color: #f7931a;">‚Çø</span>
                                <div><div class="symbol-option-name">Bitcoin</div><div style="font-size:11px;color:var(--text-muted);">BTCUSD</div></div>
                                <span class="symbol-option-check">‚úì</span>
                            </div>
                            <div class="symbol-option" data-symbol="EURUSD.r" data-name="Euro/Dollar" data-icon="‚Ç¨" data-color="#0052cc" onclick="selectSymbol(this)">
                                <span class="symbol-option-icon" style="color: #0052cc;">‚Ç¨</span>
                                <div><div class="symbol-option-name">Euro/Dollar</div><div style="font-size:11px;color:var(--text-muted);">EURUSD.r</div></div>
                                <span class="symbol-option-check" style="display:none;">‚úì</span>
                            </div>
                            <div class="symbol-option" data-symbol="USDJPY.r" data-name="Dollar/Yen" data-icon="¬•" data-color="#dc143c" onclick="selectSymbol(this)">
                                <span class="symbol-option-icon" style="color: #dc143c;">¬•</span>
                                <div><div class="symbol-option-name">Dollar/Yen</div><div style="font-size:11px;color:var(--text-muted);">USDJPY.r</div></div>
                                <span class="symbol-option-check" style="display:none;">‚úì</span>
                            </div>
                            <div class="symbol-option" data-symbol="XAUUSD.r" data-name="Gold" data-icon="‚ú¶" data-color="#ffd700" onclick="selectSymbol(this)">
                                <span class="symbol-option-icon" style="color: #ffd700;">‚ú¶</span>
                                <div><div class="symbol-option-name">Gold</div><div style="font-size:11px;color:var(--text-muted);">XAUUSD.r</div></div>
                                <span class="symbol-option-check" style="display:none;">‚úì</span>
                            </div>
                            <div class="symbol-option" data-symbol="US100." data-name="NASDAQ" data-icon="‚¨°" data-color="#00b450" onclick="selectSymbol(this)">
                                <span class="symbol-option-icon" style="color: #00b450;">‚¨°</span>
                                <div><div class="symbol-option-name">NASDAQ</div><div style="font-size:11px;color:var(--text-muted);">US100.</div></div>
                                <span class="symbol-option-check" style="display:none;">‚úì</span>
                            </div>
                        </div>
                        
                        <!-- Signal Gauge -->
                        <div class="gauge-container">
                            <svg width="300" height="140" viewBox="0 0 300 140">
                                <path id="sellArc" d="" fill="none" stroke="#dc3246" stroke-width="8" stroke-linecap="round"/>
                                <path id="buyArc" d="" fill="none" stroke="#00b450" stroke-width="8" stroke-linecap="round"/>
                                <text x="150" y="14" text-anchor="middle" fill="#9ca3af" font-size="15" font-weight="600">Neutral</text>
                                <text x="45" y="48" text-anchor="middle" fill="#dc3246" font-size="19" font-weight="700">Sell</text>
                                <text x="255" y="48" text-anchor="middle" fill="#00b450" font-size="19" font-weight="700">Buy</text>
                                <text x="0" y="110" text-anchor="start" fill="#6b7280" font-size="13" font-weight="700">Strong sell</text>
                                <text x="300" y="110" text-anchor="end" fill="#6b7280" font-size="13" font-weight="700">Strong buy</text>
                                <line id="needleShadow" x1="151" y1="111" x2="151" y2="51" stroke="rgba(0,0,0,0.3)" stroke-width="5" stroke-linecap="round"/>
                                <line id="gaugeNeedle" x1="150" y1="110" x2="150" y2="50" stroke="#00d4ff" stroke-width="4" stroke-linecap="round"/>
                                <circle cx="150" cy="110" r="14" fill="#0a3040" stroke="#00d4ff" stroke-width="2"/>
                                <circle cx="150" cy="110" r="8" fill="#00d4ff"/>
                                <circle cx="148" cy="108" r="3" fill="rgba(255,255,255,0.5)"/>
                            </svg>
                            <div class="gauge-status title-font" id="gaugeStatusText" style="color: var(--neutral-color);">Neutral</div>
                        </div>
                        
                        <!-- Indicator Summary -->
                        <div class="indicator-summary">
                            <div class="indicator-item">
                                <div class="indicator-count sell title-font" id="indSell" style="font-family: Orbitron, sans-serif !important;">0</div>
                                <div class="indicator-label">Sell</div>
                            </div>
                            <div class="indicator-item">
                                <div class="indicator-count neutral title-font" id="indNeutral" style="font-family: Orbitron, sans-serif !important;">0</div>
                                <div class="indicator-label">Neutral</div>
                            </div>
                            <div class="indicator-item">
                                <div class="indicator-count buy title-font" id="indBuy" style="font-family: Orbitron, sans-serif !important;">0</div>
                                <div class="indicator-label">Buy</div>
                            </div>
                        </div>
                        
                        <!-- Target Section (Ìè¨ÏßÄÏÖò ÏóÜÏùÑ Îïå) -->
                        <div class="target-section" id="targetSection">
                            <!-- ÎßàÌã¥ Î™®Îìú UI -->
                            <div id="martinModeUI" style="display: none;">
                                <div class="target-glow-box">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2px; padding-top: 0;">
                                        <span class="target-label" style="margin: 0; font-size: 12px; line-height: 1;">MARTIN MODE</span>
                                        <span id="martinStepBadge" style="display: none; font-size: 12px; color: #888;"></span>
                                    </div>

                                    <div class="target-display">
                                        <button class="target-btn" style="cursor: not-allowed;" disabled>‚àí</button>
                                        <div class="target-value title-font" id="martinTargetDisplay">$50</div>
                                        <button class="target-btn" style="cursor: not-allowed;" disabled>+</button>
                                    </div>
                                    <div class="lot-display" id="martinLotDisplay">0.01 lot</div>

                                    <!-- 8Îã®Í≥Ñ ÌëúÏãú Ï†ê -->
                                    <div id="martinDotsContainer" style="display: flex; justify-content: center; align-items: center; gap: 6px; padding: 10px 0;"></div>

                                    <div id="martinStepInfo" style="text-align: center; font-size: 12px; color: #ffffff;">
                                        Step <span id="martinCurrentStep" style="color: var(--accent-cyan);">1</span> / <span id="martinMaxStepsDisplay">7</span> | Target: $<span id="martinTargetInfo">50</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Í∏∞Î≥∏/Î¨¥Ï†úÌïú Î™®Îìú UI -->
                            <div id="normalModeUI">
                                <div class="target-glow-box">
                                <div class="target-display" style="margin-top: 5px;">
                                    <button class="target-btn" onclick="adjustTarget(-10)">‚àí</button>
                                    <div class="target-value title-font" id="targetValue">$100</div>
                                    <button class="target-btn" onclick="adjustTarget(10)">+</button>
                                </div>
                                <div class="lot-display" id="lotDisplay">0.50 lot (x5)</div>
                                
                                <div class="slider-container">
                                    <input type="range" id="targetSlider" min="0" max="200" value="100" oninput="updateTargetFromSlider(this.value)">
                                    <div class="slider-labels">
                                        <span>$0</span><span>$50</span><span>$100</span><span>$150</span><span>$200</span>
                                    </div>
                                </div>
                                
                                <div class="target-label" style="margin-top: -2px;">Leverage<span style="float:right;color:var(--accent-cyan);font-weight:bold;font-size:14px;" id="leverageDisplay">x5</span></div>
                                <div class="slider-container">
                                    <input type="range" id="leverageSlider" min="1" max="20" value="5" oninput="updateLeverageFromSlider(this.value)">
                                    <div class="slider-labels">
                                        <span>x0</span><span>x5</span><span>x10</span><span>x15</span><span>x20</span>
                                    </div>
                                </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Position Section (Ìè¨ÏßÄÏÖò ÏûàÏùÑ Îïå) -->
                        <div id="positionSection" style="display: none;">
                            <div class="position-card" id="positionCard">
                                <div class="position-row">
                                    <div class="position-item">
                                        <div class="position-label">Type</div>
                                        <div class="position-value title-font" id="posType" style="color: var(--buy-color);">BUY</div>
                                    </div>
                                    <div class="position-item">
                                        <div class="position-label">Entry</div>
                                        <div class="position-value" id="posEntry">0.00</div>
                                    </div>
                                    <div class="position-item">
                                        <div class="position-label">Time</div>
                                        <div class="position-value title-font" id="posTime">00:00</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- P/L Gauge -->
                            <div class="pl-gauge">
                                <div class="pl-labels">
                                    <span style="color: var(--sell-color);">&lt;&lt; LOSE</span>
                                    <span style="color: var(--buy-color);">WIN &gt;&gt;</span>
                                </div>
                                <div class="pl-bar-container">
                                    <div class="pl-bar-center"></div>
                                    <div class="pl-bar-fill" id="plBarFill"></div>
                                    <div class="pl-diamond" id="plDiamond"></div>
                                </div>
                                <div class="pl-bottom">
                                    <span style="font-size: 11px; color: var(--text-muted);" id="plMin">-$100</span>
                                    <span class="pl-percent title-font" id="plPercent" style="color: var(--neutral-color);">0%</span>
                                    <span style="font-size: 11px; color: var(--text-muted);" id="plMax">+$100</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Trade Buttons -->
                        <div id="tradeButtonsNoPos">
                            <div class="trade-buttons">
                                <button class="trade-btn sell-btn title-font" onclick="placeSell()">SELL</button>
                                <button class="trade-btn buy-btn title-font" onclick="placeBuy()">BUY</button>
                            </div>
                        </div>
                        <div id="tradeButtonsHasPos" style="display: none;">
                            <button class="trade-btn close-btn title-font" onclick="closePosition()">CLOSE TRADE</button>
                        </div>
                    </div>
                    
                    <div class="ea-footer">Buy/Sell Pro ‚Ä¢ v3.2</div>
                </div>
                </div><!-- buysellPanel Îã´Í∏∞ -->

                
                <!-- Multi Order V5 -->
                <div class="multi-v5-panel" id="multiOrderPanelV5" style="display: none;">
                    
                    <!-- ÏÑπÏÖò 1: ÌÉÄÏù¥ÌãÄ + Account Info -->
                    <div class="v5-glow-box v5-header-section">
                        <div class="v5-title-row">
                            <div class="v5-title-left">
                                <div class="v5-title-icon">
                                    <span class="material-icons-round">grid_view</span>
                                </div>
                                <div class="v5-title-text">
                                    <h1>MULTI ORDER</h1>
                                    <span>PROFESSIONAL TRADING v1.0</span>
                                </div>
                            </div>
                            <div class="v5-title-right">
                                <div class="v5-panels-count" id="v5PanelsCount">1/5</div>
                                <div class="v5-panels-label">PANELS</div>
                            </div>
                        </div>
                        
                        <div class="v5-account-grid">
                            <div class="v5-account-item">
                                <div class="v5-account-value" id="v5Balance">$0</div>
                                <div class="v5-account-label">Balance</div>
                            </div>
                            <div class="v5-account-item">
                                <div class="v5-account-value" id="v5TodayPL">$0</div>
                                <div class="v5-account-label">Today P/L</div>
                            </div>
                            <div class="v5-account-item">
                                <div class="v5-account-value" id="v5Margin">$0</div>
                                <div class="v5-account-label">Margin</div>
                            </div>
                            <div class="v5-account-item">
                                <div class="v5-account-value positive" id="v5CurrentPL">$0</div>
                                <div class="v5-account-label">Current P/L</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ÏÑπÏÖò 2: Ï£ºÎ¨∏ Ìå®ÎÑê ÏòÅÏó≠ -->
                    <div class="v5-glow-box v5-order-section">
                        <div class="v5-order-panel" id="v5OrderPanel1">
                            <!-- Ï¢ÖÎ™© Ìó§Îçî + Market/Limit ÌÜ†Í∏Ä -->
                            <div class="v5-order-header">
                                <div class="v5-symbol-simple" onclick="openV5SymbolPopup()">
                                    <span class="v5-symbol-icon" id="v5SymbolIcon" style="color: #f7931a;">‚Çø</span>
                                    <span class="v5-symbol-id">
                                        <span id="v5SymbolName">BTCUSD</span>
                                        <span class="material-icons-round">expand_more</span>
                                    </span>
                                </div>
                                <div class="v5-type-toggle">
                                    <span class="v5-toggle-label active" id="v5MarketLabel">Market</span>
                                    <div class="v5-toggle-switch" id="v5TypeToggle" onclick="toggleV5OrderType()"></div>
                                    <span class="v5-toggle-label" id="v5LimitLabel">Limit</span>
                                </div>
                            </div>
                            
                            <!-- ÏßÄÏ†ïÍ∞Ä ÏûÖÎ†• -->
                            <div class="v5-limit-section" id="v5LimitSection">
                                <div class="v5-limit-row">
                                    <label>Price:</label>
                                    <input type="text" class="v5-limit-input" id="v5LimitPrice" placeholder="0.00">
                                </div>
                            </div>
                            
                            <!-- ÎûèÏàò ÏòÅÏó≠ -->
                            <div class="v5-lot-section">
                                <div class="v5-lot-row">
                                    <div class="v5-lot-control">
                                        <button class="v5-lot-btn" onclick="adjustV5Lot(-0.01)">‚àí</button>
                                        <input type="text" class="v5-lot-input" id="v5LotInput" value="0.01" onclick="this.select()" onchange="validateV5Lot(this)">
                                        <button class="v5-lot-btn" onclick="adjustV5Lot(0.01)">+</button>
                                    </div>
                                    <button class="v5-lot-settings" onclick="openV5LotPopup()">
                                        <span class="material-icons-round">settings</span>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Ï£ºÎ¨∏ Î≤ÑÌäº -->
                            <div class="v5-order-buttons">
                                <div class="v5-order-buttons-row">
                                    <button class="v5-order-btn sell" onclick="v5Sell()">
                                        SELL
                                        <span class="v5-order-btn-price" id="v5BidPrice">0.00</span>
                                    </button>
                                    <button class="v5-order-btn buy" onclick="v5Buy()">
                                        BUY
                                        <span class="v5-order-btn-price" id="v5AskPrice">0.00</span>
                                    </button>
                                </div>
                                <button class="v5-order-btn close-position" onclick="v5CloseSymbol()">
                                    CLOSE POSITION
                                </button>
                            </div>
                            
                            <!-- Ìè¨ÏßÄÏÖò Î¶¨Ïä§Ìä∏ -->
                            <div class="v5-position-list" id="v5PositionListWrapper">
                                <div class="v5-position-header">
                                    <div class="v5-position-title">
                                        <span class="material-icons-round" style="font-size: 14px;">list_alt</span>
                                        OPEN POSITIONS
                                    </div>
                                    <button class="v5-sltp-btn" onclick="openV5SltpPopup()">SL/TP</button>
                                </div>
                                <div id="v5PositionList">
                                    <div class="v5-position-empty">
                                        <span class="material-icons-round" style="font-size: 32px; opacity: 0.3;">inbox</span>
                                        <div>Ïó¥Î¶∞ Ìè¨ÏßÄÏÖòÏù¥ ÏóÜÏäµÎãàÎã§</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <button class="v5-add-panel-btn" onclick="addV5Panel()">
                            <span class="material-icons-round">add_circle_outline</span>
                            ÏÉà Ï¢ÖÎ™© Ìå®ÎÑê Ï∂îÍ∞Ä (ÏµúÎåÄ 5Í∞ú)
                        </button>
                    </div>
                    
                    <!-- ÏÑπÏÖò 3: Ï†ÑÏ≤¥ Ï≤≠ÏÇ∞ -->
                    <div class="v5-glow-box v5-close-section">
                        <div class="v5-close-main">
                            <button class="v5-close-all-btn" onclick="v5CloseAll()">
                                <span class="material-icons-round">close_fullscreen</span>
                                ALL CLOSE
                            </button>
                        </div>
                        <div class="v5-close-group">
                            <button class="v5-close-btn buy-only" onclick="v5CloseBuy()">
                                <span class="material-icons-round">arrow_upward</span>
                                Îß§ÏàòÎßå
                            </button>
                            <button class="v5-close-btn sell-only" onclick="v5CloseSell()">
                                <span class="material-icons-round">arrow_downward</span>
                                Îß§ÎèÑÎßå
                            </button>
                            <button class="v5-close-btn profit-only" onclick="v5CloseProfit()">
                                <span class="material-icons-round">trending_up</span>
                                ÏàòÏùµÎßå
                            </button>
                            <button class="v5-close-btn loss-only" onclick="v5CloseLoss()">
                                <span class="material-icons-round">trending_down</span>
                                ÏÜêÏã§Îßå
                            </button>
                        </div>
                    </div>
                    
                    <!-- Ï¢ÖÎ™© ÏÑ†ÌÉù ÌåùÏóÖ -->
                    <div class="v5-popup-overlay" id="v5SymbolPopup" onclick="closeV5SymbolPopup(event)">
                        <div class="v5-popup" onclick="event.stopPropagation()">
                            <div class="v5-popup-header">
                                <div class="v5-popup-title">
                                    <span class="material-icons-round">star</span>
                                    Ï¶êÍ≤®Ï∞æÍ∏∞ Ï¢ÖÎ™©
                                </div>
                                <button class="v5-popup-close" onclick="closeV5SymbolPopup()">
                                    <span class="material-icons-round">close</span>
                                </button>
                            </div>
                            <div class="v5-popup-content" id="v5SymbolList">
                                <!-- JSÏóêÏÑú ÎèôÏ†Å ÏÉùÏÑ± -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- ÎûèÏàò ÏÑ§Ï†ï ÌåùÏóÖ -->
                    <div class="v5-popup-overlay" id="v5LotPopup" onclick="closeV5LotPopup(event)">
                        <div class="v5-popup" onclick="event.stopPropagation()">
                            <div class="v5-popup-header">
                                <div class="v5-popup-title">
                                    <span class="material-icons-round">tune</span>
                                    ÎûèÏàò ÌîÑÎ¶¨ÏÖã
                                </div>
                                <button class="v5-popup-close" onclick="closeV5LotPopup()">
                                    <span class="material-icons-round">close</span>
                                </button>
                            </div>
                            <div class="v5-popup-content">
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                                    <button class="v5-lot-preset" onclick="setV5Lot(0.01)">0.01</button>
                                    <button class="v5-lot-preset" onclick="setV5Lot(0.05)">0.05</button>
                                    <button class="v5-lot-preset" onclick="setV5Lot(0.10)">0.10</button>
                                    <button class="v5-lot-preset" onclick="setV5Lot(0.50)">0.50</button>
                                    <button class="v5-lot-preset" onclick="setV5Lot(1.00)">1.00</button>
                                    <button class="v5-lot-preset" onclick="setV5Lot(2.00)">2.00</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- SL/TP ÏÑ§Ï†ï ÌåùÏóÖ -->
                    <div class="v5-popup-overlay" id="v5SltpPopup" onclick="closeV5SltpPopup(event)">
                        <div class="v5-popup" onclick="event.stopPropagation()">
                            <div class="v5-popup-header">
                                <div class="v5-popup-title">
                                    <span class="material-icons-round">tune</span>
                                    SL / TP ÏÑ§Ï†ï
                                </div>
                                <button class="v5-popup-close" onclick="closeV5SltpPopup()">
                                    <span class="material-icons-round">close</span>
                                </button>
                            </div>
                            <div class="v5-popup-content">
                                <div style="margin-bottom: 16px;">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                        <div style="width: 4px; height: 16px; background: var(--buy-color); border-radius: 2px;"></div>
                                        <span style="font-size: 13px; font-weight: 600;">Take Profit</span>
                                    </div>
                                    <input type="text" class="v5-limit-input" id="v5TPInput" placeholder="0" style="width: 100%;">
                                </div>
                                <div style="margin-bottom: 16px;">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                        <div style="width: 4px; height: 16px; background: var(--sell-color); border-radius: 2px;"></div>
                                        <span style="font-size: 13px; font-weight: 600;">Stop Loss</span>
                                    </div>
                                    <input type="text" class="v5-limit-input" id="v5SLInput" placeholder="0" style="width: 100%;">
                                </div>
                                <button class="v5-close-all-btn" style="background: linear-gradient(135deg, var(--accent-cyan) 0%, #0099cc 100%);" onclick="applyV5SLTP()">
                                    <span class="material-icons-round">check_circle</span>
                                    Ï†ÅÏö©ÌïòÍ∏∞
                                </button>
                            </div>
                        </div>
                    </div>
                    
                </div><!-- multiOrderPanelV5 Îã´Í∏∞ -->

                <!-- Multi Order V5 - Ï§ÄÎπÑÏ§ë -->
                <div id="multiV5ComingSoon" style="display: none; padding: 20px;">
                    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 60vh; text-align: center;">
                        <div style="font-size: 80px; margin-bottom: 20px;">üöß</div>
                        <h2 style="color: #00d4ff; font-size: 24px; margin-bottom: 12px;">Multi Order V5</h2>
                        <p style="color: var(--text-muted); font-size: 16px; margin-bottom: 8px;">Ï§ÄÎπÑÏ§ëÏûÖÎãàÎã§</p>
                        <p style="color: var(--text-muted); font-size: 14px;">Îπ†Î•∏ ÏãúÏùº ÎÇ¥Ïóê Ïò§Ìîà ÏòàÏ†ïÏûÖÎãàÎã§!</p>
                        <div style="margin-top: 30px; padding: 16px 24px; background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 212, 255, 0.3); border-radius: 12px;">
                            <p style="color: #00d4ff; font-size: 14px;">üí° Buy/Sell ÎòêÎäî Quick & EasyÎ•º Ïù¥Ïö©Ìï¥Ï£ºÏÑ∏Ïöî</p>
                        </div>
                    </div>
                </div>
                
                <!-- Quick & Easy Ìå®ÎÑê -->
                <div id="quickPanel" style="display: none;">
                    <!-- ‚òÖ ÏÉÅÎã® Í≥†Ï†ï: Ïñ¥Ïπ¥Ïö¥Ìä∏ ÏÑπÏÖò (3Ïπ∏ Í≥†Ï†ï) -->
                    <div class="qe-account-bar" id="qeAccountBar">
                        <div class="qe-account-grid">
                            <!-- Ïπ∏1: Ï¢ÖÎ™© -->
                            <div class="qe-grid-cell qe-symbol-cell">
                                <div class="qe-account-label">SYMBOL</div>
                                <button class="qe-symbol-btn" id="qeSymbolBtn" onclick="QuickEasyPanel.toggleSymbolDropdown()">
                                    <span class="qe-symbol-icon" id="qeSymbolIcon" style="color:#f7931a;">‚Çø</span>
                                    <span class="qe-symbol-text" id="qeSymbolName">Bitcoin</span>
                                    <span class="qe-symbol-arrow">‚åÑ</span>
                                </button>
                                <div class="qe-symbol-dropdown" id="qeSymbolDropdown">
                                    <div class="qe-symbol-option" onclick="QuickEasyPanel.selectSymbol('BTCUSD')">
                                        <span class="qe-opt-icon" style="color:#f7931a;">‚Çø</span>
                                        <span class="qe-opt-name">Bitcoin</span>
                                        <span class="qe-opt-code">BTCUSD</span>
                                    </div>
                                    <div class="qe-symbol-option" onclick="QuickEasyPanel.selectSymbol('EURUSD.r')">
                                        <span class="qe-opt-icon" style="color:#0052cc;">‚Ç¨</span>
                                        <span class="qe-opt-name">EUR/USD</span>
                                        <span class="qe-opt-code">EURUSD.r</span>
                                    </div>
                                    <div class="qe-symbol-option" onclick="QuickEasyPanel.selectSymbol('USDJPY.r')">
                                        <span class="qe-opt-icon" style="color:#dc143c;">¬•</span>
                                        <span class="qe-opt-name">USD/JPY</span>
                                        <span class="qe-opt-code">USDJPY.r</span>
                                    </div>
                                    <div class="qe-symbol-option" onclick="QuickEasyPanel.selectSymbol('XAUUSD.r')">
                                        <span class="qe-opt-icon" style="color:#ffd700;">‚ú¶</span>
                                        <span class="qe-opt-name">Gold</span>
                                        <span class="qe-opt-code">XAUUSD.r</span>
                                    </div>
                                    <div class="qe-symbol-option" onclick="QuickEasyPanel.selectSymbol('US100.')">
                                        <span class="qe-opt-icon" style="color:#00b450;">‚¨°</span>
                                        <span class="qe-opt-name">NASDAQ</span>
                                        <span class="qe-opt-code">US100.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="qe-grid-divider"></div>
                            <!-- Ïπ∏2: Equity -->
                            <div class="qe-grid-cell">
                                <div class="qe-account-label">EQUITY</div>
                                <div class="qe-account-value" id="qeEquity">$0.00</div>
                            </div>
                            <div class="qe-grid-divider"></div>
                            <!-- Ïπ∏3: Win/Lose -->
                            <div class="qe-grid-cell">
                                <div class="qe-account-label">WIN / LOSE</div>
                                <div class="qe-account-value" id="qeWinLose">--%</div>
                            </div>
                        </div>
                    </div>

                    <div class="qe-content">
                        <!-- Ìã±Ï∞®Ìä∏ ÏòÅÏó≠ (Ìò∏Í∞Ä Ïò§Î≤ÑÎ†àÏù¥ Ìè¨Ìï®) -->
                        <div class="qe-chart-wrap" id="qeChartWrap">
                            <div class="qe-chart-container" id="qeChartContainer"></div>
                            <!-- ÌòÑÏû¨Í∞Ä ÌéÑÏä§ ÎßàÏª§ -->
                            <div class="qe-pulse-marker" id="qePulseMarker" style="display:none;"></div>
                            <!-- Ìò∏Í∞Ä Ïò§Î≤ÑÎ†àÏù¥ (Ï∞®Ìä∏ ÏúÑ) -->
                            <div class="qe-quote-overlay">
                                <div class="qe-quote-bar" id="qeQuoteBar">
                                    <div class="qe-quote-price" id="qeQuotePrice">0.00</div>
                                    <div class="qe-quote-change" id="qeQuoteChange">
                                        <span class="qe-change-value" id="qeChangeValue">+0.00</span>
                                        <span class="qe-change-pct" id="qeChangePct">(0.00%)</span>
                                    </div>
                                </div>
                                <div class="qe-quote-info" id="qeQuoteInfo">
                                    <span class="qe-info-symbol" id="qeInfoSymbol">BTCUSD</span>
                                    <span class="qe-info-dot">¬∑</span>
                                    <span class="qe-info-category" id="qeInfoCategory">Crypto Currency</span>
                                    <span class="qe-info-status" id="qeInfoStatus"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ‚òÖ ÌïòÎã® Í≥†Ï†ï: Ï£ºÎ¨∏ÏÑπÏÖò + SELL/BUY Î≤ÑÌäº -->
                    <div class="qe-bottom-bar" id="qeBottomBar">
                        <!-- Ìè¨ÏßÄÏÖò ÌôúÏÑ±Ìôî Î∑∞ (Ï£ºÎ¨∏ ÌõÑ ÌëúÏãú) -->
                        <div class="qe-position-view" id="qePositionView" style="display:none;">
                            <div class="qe-position-info">
                                <div class="qe-pos-col">
                                    <div class="qe-pos-label">Type</div>
                                    <div class="qe-pos-value" id="qePosType">BUY</div>
                                </div>
                                <div class="qe-pos-col">
                                    <div class="qe-pos-label">Entry</div>
                                    <div class="qe-pos-value" id="qePosEntry">0.00</div>
                                </div>
                                <div class="qe-pos-col">
                                    <div class="qe-pos-label">Time</div>
                                    <div class="qe-pos-value" id="qePosTime">00:00</div>
                                </div>
                            </div>
                            <div class="qe-close-section">
                                <button class="qe-close-btn" id="qeCloseBtn">CLOSE TRADE</button>
                            </div>
                        </div>
                        <!-- Ï£ºÎ¨∏ÏÑπÏÖò: Target + Lot Size (ÎùºÎ≤® Î∞ïÏä§ ÎÇ¥Î∂Ä) -->
                        <div class="qe-order-section">
                            <div class="qe-order-box">
                                <div class="qe-order-box-inner">
                                    <button class="qe-ctrl-btn" id="qeTargetMinus">‚àí</button>
                                    <div class="qe-ctrl-center">
                                        <div class="qe-ctrl-label">TARGET</div>
                                        <div class="qe-ctrl-value" id="qeTargetValue">$100</div>
                                    </div>
                                    <button class="qe-ctrl-btn" id="qeTargetPlus">+</button>
                                </div>
                            </div>
                            <div class="qe-order-box">
                                <div class="qe-order-box-inner">
                                    <button class="qe-ctrl-btn" id="qeLotMinus">‚àí</button>
                                    <div class="qe-ctrl-center">
                                        <div class="qe-ctrl-label">LOT SIZE</div>
                                        <div class="qe-ctrl-value" id="qeLotValue">0.50</div>
                                    </div>
                                    <button class="qe-ctrl-btn" id="qeLotPlus">+</button>
                                </div>
                            </div>
                        </div>
                        <!-- SELL / BUY Î≤ÑÌäº -->
                        <div class="qe-trade-buttons">
                            <button class="qe-sell-btn" id="qeSellBtn">
                                <svg class="qe-btn-arrow" viewBox="0 0 24 28" width="32" height="32">
                                    <path d="M7 6v8h-3l4 4 4-4h-3v-8h-2z" fill="white" opacity="0.25"/>
                                    <path d="M17 12v8h-3l4 4 4-4h-3v-8h-2z" fill="white" opacity="0.9"/>
                                </svg>
                                <span class="qe-btn-title title-font">SELL</span>
                                <span class="qe-btn-payout" id="qeSellPayout">--%</span>
                            </button>
                            <button class="qe-buy-btn" id="qeBuyBtn">
                                <span class="qe-btn-payout" id="qeBuyPayout">--%</span>
                                <span class="qe-btn-title title-font">BUY</span>
                                <svg class="qe-btn-arrow" viewBox="0 0 24 28" width="32" height="32">
                                    <path d="M17 22V14h3l-4-4-4 4h3v8h2z" fill="white" opacity="0.25"/>
                                    <path d="M7 16V8h3L6 4 2 8h3v8h2z" fill="white" opacity="0.9"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                
            </div>
            
            <!-- ========== Account ÌÉ≠ ========== -->
<div class="page" id="page-account">
    <!-- Account Info ÏÑπÏÖò -->
<div class="card">
    <div class="card-title">
        <span class="material-icons-round" style="font-size: 18px; vertical-align: middle; margin-right: 5px;">account_balance</span>
        Account Info
    </div>
    <div class="account-summary-v2">
        <!-- Ï≤´Ïß∏ Ï§Ñ -->
        <div class="summary-box-v2">
            <div class="summary-value" id="accBalance">$0.00</div>
            <div class="summary-label">Balance</div>
        </div>
        <div class="summary-box-v2">
            <div class="summary-value neutral" id="accMargin">$0.00</div>
            <div class="summary-label">Margin</div>
        </div>
        <div class="summary-box-v2">
            <div class="summary-value positive" id="accTodayPL">+$0.00</div>
            <div class="summary-label">Today P&L</div>
        </div>
        <!-- ÎëòÏß∏ Ï§Ñ -->
        <div class="summary-box-v2">
            <div class="summary-value neutral" id="accEquity">$0.00</div>
            <div class="summary-label">Equity</div>
        </div>
        <div class="summary-box-v2">
            <div class="summary-value neutral" id="accWinLose">0 / 0</div>
            <div class="summary-label">Win / Lose</div>
        </div>
        <div class="summary-box-v2">
            <div class="summary-value neutral" id="accCurrentPL" style="color: var(--buy-color);">+$0.00</div>
            <div class="summary-label">Current P&L</div>
        </div>
    </div>
</div>
    
    <!-- Trade History ÏÑπÏÖò -->
    <div class="card">
        <div class="card-title">
            <span class="material-icons-round" style="font-size: 18px; vertical-align: middle; margin-right: 5px;">history</span>
            Trade History
        </div>
        
        <!-- ÌïÑÌÑ∞ Î∞î (All/ÏàòÏùµ/ÏÜêÏã§ + Í∏∞Í∞Ñ ÎìúÎ°≠Îã§Ïö¥) -->
        <div class="history-filter-bar">
            <div class="history-tabs-inline">
                <button class="history-tab-inline active" data-filter="all" onclick="filterHistoryByType('all')">All</button>
                <button class="history-tab-inline" data-filter="profit" onclick="filterHistoryByType('profit')">ÏàòÏùµ</button>
                <button class="history-tab-inline" data-filter="loss" onclick="filterHistoryByType('loss')">ÏÜêÏã§</button>
            </div>
            <div class="period-dropdown-container">
                <button class="period-dropdown-btn" onclick="togglePeriodDropdown()">
    <span id="selectedPeriodText">1Ï£ºÏùº</span>
    <span class="material-icons-round" style="font-size: 18px;">expand_more</span>
</button>
<div class="period-dropdown" id="periodDropdown">
    <div class="period-option" data-period="today" onclick="selectPeriod('today', 'Ïò§Îäò')">Ïò§Îäò</div>
    <div class="period-option active" data-period="week" onclick="selectPeriod('week', '1Ï£ºÏùº')">1Ï£ºÏùº</div>
    <div class="period-option" data-period="month" onclick="selectPeriod('month', '1Í∞úÏõî')">1Í∞úÏõî</div>
    <div class="period-option" data-period="all" onclick="selectPeriod('all', '3Í∞úÏõî')">3Í∞úÏõî</div>
</div>
            </div>
        </div>
        
        <!-- Í∏∞Í∞ÑÎ≥Ñ ÏÑúÎ®∏Î¶¨ -->
<div class="history-summary">
    <div class="history-summary-item">
        <span class="history-summary-label">Win Rate</span>
        <span class="history-summary-value" id="summaryWinRate">0.0%</span>
    </div>
    <div class="history-summary-divider"></div>
    <div class="history-summary-item">
        <span class="history-summary-label">Í±∞ÎûòÎüâ</span>
        <span class="history-summary-value" id="summaryVolume">0.00 lot</span>
    </div>
    <div class="history-summary-divider"></div>
    <div class="history-summary-item">
        <span class="history-summary-label">ÏÜêÏùµ</span>
        <span class="history-summary-value positive" id="summaryPL">+$0.00</span>
    </div>
</div>
        
        <!-- Í±∞Îûò ÎÇ¥Ïó≠ Î¶¨Ïä§Ìä∏ -->
        <div id="historyList">
            <p style="color: var(--text-muted); text-align: center; padding: 20px;">Loading...</p>
        </div>
    </div>
</div>
            
            <!-- ========== My ÌÉ≠ ========== -->
            <div class="page" id="page-my">
                <div class="profile-header">
                    <div class="profile-avatar"><span class="material-icons-round" style="font-size: 48px;">account_circle</span></div>
                    <div class="profile-name" id="profileName">Trader</div>
                    <div class="profile-level">Standard Member</div>
                </div>
                <div class="menu-item"><div class="menu-left"><span class="menu-icon"><span class="material-icons-round">person</span></span><span>My Account</span></div><span class="menu-arrow">‚Ä∫</span></div>
                <div class="menu-item"><div class="menu-left"><span class="menu-icon"><span class="material-icons-round">account_balance</span></span><span>Deposit / Withdraw</span></div><span class="menu-arrow">‚Ä∫</span></div>
                <div class="menu-item"><div class="menu-left"><span class="menu-icon"><span class="material-icons-round">tune</span></span><span>Trading Settings</span></div><span class="menu-arrow">‚Ä∫</span></div>
                <div class="menu-item"><div class="menu-left"><span class="menu-icon"><span class="material-icons-round">security</span></span><span>Security</span></div><span class="menu-arrow">‚Ä∫</span></div>
                <div class="menu-item"><div class="menu-left"><span class="menu-icon"><span class="material-icons-round">help_outline</span></span><span>Help & Support</span></div><span class="menu-arrow">‚Ä∫</span></div>
                <div class="menu-item" onclick="logout()" style="margin-top: 20px; border-color: var(--sell-color);">
                    <div class="menu-left">
                        <span class="menu-icon"><span class="material-icons-round" style="color: var(--sell-color);">logout</span></span>
                        <span style="color: var(--sell-color);">Logout</span>
                    </div>
                    <span class="menu-arrow" style="color: var(--sell-color);">‚Ä∫</span>
                </div>
            </div>
        </div>

        <!-- ÎçîÎ≥¥Í∏∞ Î∞îÌÖÄÏãúÌä∏ (body Î†àÎ≤®) -->
        <div class="zm-bottomsheet" id="zmMoreSheet">
            <div class="zm-bottomsheet-overlay" onclick="closeZmMoreMenu()"></div>
            <div class="zm-bottomsheet-content zm-more-content">
                <div class="zm-handle-bar"></div>
                <div class="zm-bottomsheet-header">
                    <span>Settings „Ö£ Ï∞®Ìä∏ÏÑ§Ï†ï</span>
                    <button class="zm-close-btn" onclick="closeZmMoreMenu()">‚úï</button>
                </div>
                <div class="zm-more-menu-list">
                    <!-- Ï∂îÏÑ∏ÏÑ† Î©îÎâ¥ (ÏûÑÏãú Ïà®ÍπÄ) -->
                    <button class="zm-more-menu-item" onclick="closeZmMoreMenu(); openDrawingTools();" style="display: none;">
                        <div class="zm-more-icon-box">
                            <span class="material-icons-round">timeline</span>
                        </div>
                        <div class="zm-more-menu-text">
                            <span class="zm-more-menu-title">Ï∂îÏÑ∏ÏÑ†</span>
                            <span class="zm-more-menu-sub">Trendline</span>
                        </div>
                        <span class="material-icons-round zm-more-arrow">chevron_right</span>
                    </button>
                    <button class="zm-more-menu-item" onclick="closeZmMoreMenu(); openIndPopup();">
                        <div class="zm-more-icon-box">
                            <span class="material-icons-round">analytics</span>
                        </div>
                        <div class="zm-more-menu-text">
                            <span class="zm-more-menu-title">Î≥¥Ï°∞ÏßÄÌëú</span>
                            <span class="zm-more-menu-sub">Indicators</span>
                        </div>
                        <span class="material-icons-round zm-more-arrow">chevron_right</span>
                    </button>
                    <button class="zm-more-menu-item" onclick="closeZmMoreMenu(); openChartType();">
                        <div class="zm-more-icon-box">
                            <span class="material-icons-round">candlestick_chart</span>
                        </div>
                        <div class="zm-more-menu-text">
                            <span class="zm-more-menu-title">Ï∞®Ìä∏Ï¢ÖÎ•ò</span>
                            <span class="zm-more-menu-sub">Chart Type</span>
                        </div>
                        <span class="material-icons-round zm-more-arrow">chevron_right</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- ÌÉÄÏûÑÌîÑÎ†àÏûÑ Î∞îÌÖÄÏãúÌä∏ (body Î†àÎ≤®) -->
        <div class="zm-bottomsheet" id="zmTfSheet">
            <div class="zm-bottomsheet-overlay" onclick="closeZmTimeframe()"></div>
            <div class="zm-bottomsheet-content">
                <div class="zm-handle-bar"></div>
                <div class="zm-bottomsheet-header">
                    <span>Timeframe „Ö£ Î∂ÑÎ¥â</span>
                    <button class="zm-close-btn" onclick="closeZmTimeframe()">‚úï</button>
                </div>
                <div class="zm-tf-grid">
                    <button class="zm-tf-item active" onclick="selectZmTimeframe('1m')">1m</button>
                    <button class="zm-tf-item" onclick="selectZmTimeframe('5m')">5m</button>
                    <button class="zm-tf-item" onclick="selectZmTimeframe('15m')">15m</button>
                    <button class="zm-tf-item" onclick="selectZmTimeframe('30m')">30m</button>
                    <button class="zm-tf-item" onclick="selectZmTimeframe('1H')">1H</button>
                    <button class="zm-tf-item" onclick="selectZmTimeframe('4H')">4H</button>
                    <button class="zm-tf-item" onclick="selectZmTimeframe('1D')">1D</button>
                    <button class="zm-tf-item" onclick="selectZmTimeframe('1W')">1W</button>
                    <button class="zm-tf-item" onclick="selectZmTimeframe('MN')">MN</button>
                </div>
            </div>
        </div>

        <!-- ÌïòÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
        <div class="bottom-nav">
            <div class="nav-item active" data-page="home"><span class="nav-icon"><span class="material-icons-round">home</span></span><span class="nav-label">Home</span></div>
            <div class="nav-item" data-page="chart"><span class="nav-icon"><span class="material-icons-round">candlestick_chart</span></span><span class="nav-label">Chart</span></div>
            <div class="nav-item" data-page="trade"><span class="nav-icon"><span class="material-icons-round">swap_vert</span></span><span class="nav-label">Trading</span></div>
            <div class="nav-item" data-page="account"><span class="nav-icon"><span class="material-icons-round">account_balance_wallet</span></span><span class="nav-label">Account</span></div>
            <div class="nav-item" data-page="my"><span class="nav-icon"><span class="material-icons-round">person</span></span><span class="nav-label">My</span></div>
        </div>
        
        <!-- ÎßàÌã¥ ÏÜêÏã§ ÌåùÏóÖ -->
        <div id="martinPopup" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 200; align-items: center; justify-content: center;">
            <div style="background: #111318; border: 1px solid rgba(220,50,70,0.4); border-radius: 12px; padding: 20px; margin: 16px; max-width: 360px; width: 100%; box-shadow: 0 0 30px rgba(220,50,70,0.15);">
                <div style="text-align: center;">
                    <div style="margin-bottom: 12px;">
                        <div style="width: 48px; height: 48px; margin: 0 auto; background: rgba(220,50,70,0.15); border: 1.5px solid rgba(220,50,70,0.5); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <span style="color: #dc3246; font-size: 24px; font-weight: bold;">‚Üì</span>
                        </div>
                    </div>
                    <div style="font-size: 18px; font-weight: bold; color: var(--accent-cyan); margin-bottom: 4px;">
                        Martin Step <span id="popupCurrentStep">1</span> Loss
                    </div>
                    <div style="font-size: 14px; font-weight: bold; color: white; margin-bottom: 16px;">
                        ÎßàÌã¥ <span id="popupCurrentStepKr">1</span>Îã®Í≥Ñ ÏÜêÏã§ Î∞úÏÉù
                    </div>
                    <div style="background: var(--bg-tertiary); border-radius: 8px; padding: 12px; margin-bottom: 16px; text-align: left;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span style="font-size: 12px; color: #b0b0b0;">Current Loss / ÌòÑÏû¨ ÏÜêÏã§</span>
                            <span id="popupCurrentLoss" style="font-size: 14px; font-weight: bold; color: #dc3246;">-$0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span style="font-size: 12px; color: #b0b0b0;">Accumulated / ÎàÑÏ†Å ÏÜêÏã§</span>
                            <span id="popupAccumulatedLoss" style="font-size: 14px; font-weight: bold; color: #dc3246;">-$0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span style="font-size: 12px; color: #b0b0b0;">Next Lot Size / Îã§Ïùå ÎûèÏàò</span>
                            <span id="popupNextLot" style="font-size: 14px; font-weight: bold; color: white;">0.02 lot</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="font-size: 12px; color: #b0b0b0;">Recovery Target / ÌöåÎ≥µ Î™©Ìëú</span>
                            <span id="popupRecoveryTarget" style="font-size: 14px; font-weight: bold; color: #00b450;">+$0</span>
                        </div>
                    </div>
                    <div style="font-size: 14px; color: white; margin-bottom: 4px;">
                        Proceed to next step (<span id="popupNextStep">2</span>)?
                    </div>
                    <div style="font-size: 14px; color: var(--text-muted); margin-bottom: 16px;">
                        Îã§Ïùå Îã®Í≥Ñ (<span id="popupNextStepKr">2</span>Îã®Í≥Ñ)Î°ú ÏßÑÌñâÌïòÏãúÍ≤†ÏäµÎãàÍπå?
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button onclick="martinPopupSettings()" style="flex: 1; padding: 10px; border-radius: 8px; font-weight: bold; font-size: 12px; color: white; background: var(--bg-tertiary); border: 1px solid var(--text-muted); cursor: pointer;">
                            ÏÑ§Ï†ïÏúºÎ°ú
                        </button>
                        <button onclick="martinPopupStay()" style="flex: 1; padding: 10px; border-radius: 8px; font-weight: bold; font-size: 12px; color: white; background: #f59e0b; border: none; cursor: pointer;">
                            Îã®Í≥Ñ Ïú†ÏßÄ
                        </button>
                        <button onclick="martinPopupContinue()" style="flex: 1; padding: 10px; border-radius: 8px; font-weight: bold; font-size: 12px; color: white; background: #00b450; border: none; cursor: pointer;">
                            Îã§Ïùå Îã®Í≥Ñ
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ÎßàÌã¥ ÏÑ±Í≥µ ÌåùÏóÖ -->
        <div id="martinSuccessPopup" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 200; align-items: center; justify-content: center;">
            <div style="background: #111318; border: 1px solid rgba(0,212,255,0.4); border-radius: 12px; padding: 20px; margin: 16px; max-width: 360px; width: 100%; box-shadow: 0 0 30px rgba(0,212,255,0.15);">
                <div style="text-align: center;">
                    <div style="margin-bottom: 12px;">
                        <div style="width: 48px; height: 48px; margin: 0 auto; background: rgba(0,180,80,0.15); border: 1.5px solid rgba(0,180,80,0.5); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <span style="color: #00b450; font-size: 24px; font-weight: bold;">‚úì</span>
                        </div>
                    </div>
                    <div style="font-size: 18px; font-weight: bold; color: #00b450; margin-bottom: 4px;">
                        Martin Success!
                    </div>
                    <div style="font-size: 14px; font-weight: bold; color: white; margin-bottom: 16px;">
                        ÎßàÌã¥ Î™®Îìú ÏÑ±Í≥µ!
                    </div>
                    <div style="background: var(--bg-tertiary); border-radius: 8px; padding: 12px; margin-bottom: 16px; text-align: left;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span style="font-size: 12px; color: #b0b0b0;">Total Profit / Ï¥ù ÏàòÏùµ</span>
                            <span id="successPopupProfit" style="font-size: 14px; font-weight: bold; color: #00b450;">+$0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="font-size: 12px; color: #b0b0b0;">Recovered Loss / ÌöåÎ≥µ ÏÜêÏã§</span>
                            <span id="successPopupRecovered" style="font-size: 14px; font-weight: bold; color: #00d4ff;">$0</span>
                        </div>
                    </div>
                    <div style="font-size: 14px; color: white; margin-bottom: 4px;">
                        What would you like to do next?
                    </div>
                    <div style="font-size: 13px; color: var(--text-muted); margin-bottom: 16px;">
                        Îã§ÏùåÏóê Î¨¥ÏóáÏùÑ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button onclick="martinSuccessToSettings()" style="flex: 1; padding: 12px; border-radius: 8px; font-weight: bold; color: white; background: var(--bg-tertiary); border: 1px solid var(--text-muted); cursor: pointer;">
                            ÏÑ§Ï†ï / Settings
                        </button>
                        <button onclick="martinSuccessContinue()" style="flex: 1; padding: 12px; border-radius: 8px; font-weight: bold; color: white; background: #00b450; border: none; cursor: pointer;">
                            Í≥ÑÏÜç / Continue
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÎßàÌã¥ ÏµúÎåÄ Îã®Í≥Ñ ÎèÑÎã¨ ÌåùÏóÖ -->
        <div id="martinMaxPopup" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 200; align-items: center; justify-content: center;">
            <div style="background: #111318; border: 2px solid #dc3246; border-radius: 12px; padding: 20px; margin: 16px; max-width: 360px; width: 100%;">
                <div style="text-align: center;">
                    <div style="font-size: 48px; margin-bottom: 12px;">‚ö†Ô∏è</div>
                    <div style="font-size: 18px; font-weight: bold; color: #dc3246; margin-bottom: 4px;">
                        Maximum Steps Reached!
                    </div>
                    <div style="font-size: 14px; font-weight: bold; color: white; margin-bottom: 16px;">
                        ÏµúÎåÄ Îã®Í≥ÑÏóê ÎèÑÎã¨ÌñàÏäµÎãàÎã§
                    </div>
                    <div style="background: var(--bg-tertiary); border-radius: 8px; padding: 12px; margin-bottom: 16px; text-align: left;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span style="font-size: 12px; color: #b0b0b0;">Total Loss / Ï¥ù ÏÜêÏã§</span>
                            <span id="maxPopupTotalLoss" style="font-size: 14px; font-weight: bold; color: #dc3246;">-$0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="font-size: 12px; color: #b0b0b0;">Steps Used / ÏÇ¨Ïö© Îã®Í≥Ñ</span>
                            <span id="maxPopupStepsUsed" style="font-size: 14px; font-weight: bold; color: white;">7 / 7</span>
                        </div>
                    </div>
                    <div style="font-size: 14px; color: var(--text-muted); margin-bottom: 16px;">
                        Martin will reset to Step 1.<br>ÎßàÌã¥Ïù¥ 1Îã®Í≥ÑÎ°ú Ï¥àÍ∏∞ÌôîÎê©ÎãàÎã§.
                    </div>
                    <button onclick="closeMaxPopup()" style="width: 100%; padding: 12px; border-radius: 8px; font-weight: bold; color: white; background: #dc3246; border: none; cursor: pointer;">
                        ÌôïÏù∏ / OK
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Ï¢ÖÎ™© Í≤ÄÏÉâ Î™®Îã¨ -->
        <div class="modal-overlay" id="symbolSearchModal">
            <div style="background: var(--bg-secondary); border-radius: 16px; margin: 15px; max-width: 450px; width: 100%; max-height: 80vh; display: flex; flex-direction: column; overflow: hidden;">
                <!-- Í≤ÄÏÉâ Ìó§Îçî -->
                <div style="padding: 15px; border-bottom: 1px solid var(--border-color);">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span class="material-icons-round" style="color: var(--text-muted);">search</span>
                        <input type="text" id="symbolSearchInput" placeholder="Ï¢ÖÎ™©Î™Ö ÎòêÎäî Ïã¨Î≥º Í≤ÄÏÉâ..." 
                            style="flex: 1; background: transparent; border: none; color: white; font-size: 16px; outline: none;"
                            oninput="onSymbolSearch(this.value)" autocomplete="off">
                        <button onclick="closeSymbolSearch()" style="background: none; border: none; color: var(--text-muted); font-size: 24px; cursor: pointer;">‚úï</button>
                    </div>
                </div>
                
                <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïÑÌÑ∞ -->
                <div style="display: flex; gap: 8px; padding: 10px 15px; border-bottom: 1px solid var(--border-color); overflow-x: auto;">
                    <button class="search-category-btn active" data-category="all" onclick="filterSearchCategory('all')">Ï†ÑÏ≤¥</button>
                    <button class="search-category-btn" data-category="forex" onclick="filterSearchCategory('forex')">Forex</button>
                    <button class="search-category-btn" data-category="crypto" onclick="filterSearchCategory('crypto')">Crypto</button>
                    <button class="search-category-btn" data-category="indices" onclick="filterSearchCategory('indices')">Indices</button>
                    <button class="search-category-btn" data-category="metals" onclick="filterSearchCategory('metals')">Metals</button>
                </div>
                
                <!-- Í≤ÄÏÉâ Í≤∞Í≥º -->
                <div id="symbolSearchResults" style="flex: 1; overflow-y: auto; padding: 10px 0;">
                    <div style="text-align: center; padding: 40px 20px; color: var(--text-muted);">
                        <span class="material-icons-round" style="font-size: 48px; opacity: 0.5;">search</span>
                        <p style="margin-top: 10px;">Ï¢ÖÎ™©Î™Ö ÎòêÎäî Ïã¨Î≥ºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî</p>
                    </div>
                </div>
                
                <!-- Î°úÎî© ÌëúÏãú -->
                <div id="symbolSearchLoading" style="display: none; text-align: center; padding: 20px;">
                    <div style="color: var(--accent-cyan);">Í≤ÄÏÉâ Ï§ë...</div>
                </div>
            </div>
        </div>
        
        <!-- Toast -->
        <div class="toast" id="toast"></div>
        
        <!-- Í≤åÏä§Ìä∏ Î™®Îìú Í∞ÄÏûÖ Ïú†ÎèÑ ÌåùÏóÖ -->
        <div class="modal-overlay" id="guestPopup">
            <div style="background: linear-gradient(180deg, #1e2127 0%, #15171c 100%); border: 2px solid #00d4ff; border-radius: 16px; padding: 30px 25px; margin: 20px; max-width: 360px; width: 100%; text-align: center; box-shadow: 0 0 60px rgba(0,212,255,0.3);">
                <div style="font-size: 50px; margin-bottom: 15px;">üöÄ</div>
                <div style="font-size: 22px; font-weight: bold; color: #00d4ff; margin-bottom: 8px; letter-spacing: 1px;">Ready to Trade?</div>
                <div style="font-size: 15px; color: #9ca3af; margin-bottom: 25px; line-height: 1.6;">
                    Ïã§Ï†ú Í±∞ÎûòÎ•º ÏãúÏûëÌïòÎ†§Î©¥<br>Í≥ÑÏ†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§
                </div>
                <div style="display: flex; gap: 12px; margin-bottom: 15px;">
                    <button onclick="goToRegister()" style="flex: 1; padding: 14px; font-size: 15px; font-weight: bold; background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%); border: none; border-radius: 10px; color: #000; cursor: pointer;">
                        ÌöåÏõêÍ∞ÄÏûÖ
                    </button>
                    <button onclick="goToLoginPage()" style="flex: 1; padding: 14px; font-size: 15px; font-weight: bold; background: transparent; border: 2px solid #00d4ff; border-radius: 10px; color: #00d4ff; cursor: pointer;">
                        Î°úÍ∑∏Ïù∏
                    </button>
                </div>
                <button onclick="closeGuestPopup()" style="padding: 10px 30px; font-size: 13px; background: transparent; border: none; color: #6b7280; cursor: pointer;">
                    Í≥ÑÏÜç ÎëòÎü¨Î≥¥Í∏∞
                </button>
            </div>
        </div>
        
        <!-- MT5 Ïó∞Í≤∞ Î™®Îã¨ -->
        <div class="modal-overlay" id="mt5ConnectModal">
            <div style="background: linear-gradient(180deg, #1e2127 0%, #15171c 100%); border: 2px solid var(--accent-cyan); border-radius: 16px; padding: 0; margin: 15px; max-width: 420px; width: 100%; box-shadow: 0 0 60px rgba(0,212,255,0.2); overflow: hidden;">
                <!-- Ìó§Îçî -->
                <div style="background: #000; padding: 15px 18px; display: flex; justify-content: space-between; align-items: center;">
                    <div style="display: flex; align-items: center; gap: 9px;">
                        <span class="material-icons-round" style="color: var(--accent-cyan); font-size: 26px;">link</span>
                        <span style="font-size: 18px; font-weight: bold;">MT5 Í≥ÑÏ¢å Ïó∞Í≤∞</span>
                    </div>
                    <button onclick="closeMT5ConnectModal()" style="background: none; border: none; color: var(--text-muted); font-size: 24px; cursor: pointer;">‚úï</button>
                </div>
                
                <!-- ÏÑ†ÌÉù ÌôîÎ©¥ -->
                <div id="mt5Step1" style="padding: 20px;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="font-size: 15px; color: var(--text-muted);">Í≥ÑÏ¢å Î≥¥Ïú† Ïó¨Î∂ÄÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</div>
                    </div>
                    
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <button onclick="showMT5Step2('existing')" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 10px; cursor: pointer; transition: all 0.2s; text-align: left;">
                            <span class="material-icons-round" style="font-size: 28px; color: var(--accent-cyan);">account_circle</span>
                            <div style="flex: 1;">
                                <div style="font-size: 15px; font-weight: 600; color: white;">Ïù¥ÎØ∏ HedgeHood Í≥ÑÏ¢åÍ∞Ä ÏûàÏäµÎãàÎã§</div>
                                <div style="font-size: 13px; color: var(--text-muted);">Í∏∞Ï°¥ Í≥ÑÏ¢å Ïó∞Í≤∞ÌïòÍ∏∞</div>
                            </div>
                            <span class="material-icons-round" style="margin-left: auto; color: var(--text-muted);">chevron_right</span>
                        </button>
                        
                        <button onclick="showMT5Step2('new')" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 10px; cursor: pointer; transition: all 0.2s; text-align: left;">
                            <span class="material-icons-round" style="font-size: 28px; color: var(--buy-color);">person_add</span>
                            <div style="flex: 1;">
                                <div style="font-size: 15px; font-weight: 600; color: white;">Ïã†Í∑úÎ°ú Í≥ÑÏ¢åÎ•º Í∞úÏÑ§ÌïòÍ≥† Ïã∂ÏäµÎãàÎã§</div>
                                <div style="font-size: 13px; color: var(--text-muted);">HedgeHood Í∞ÄÏûÖ ÏïàÎÇ¥</div>
                            </div>
                            <span class="material-icons-round" style="margin-left: auto; color: var(--text-muted);">chevron_right</span>
                        </button>
                    </div>
                </div>
                
                <!-- Í∏∞Ï°¥ Í≥ÑÏ¢å Ïó∞Í≤∞ Ìèº -->
                <div id="mt5Step2Existing" style="display: none; padding: 18px 20px;">
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 14px; color: white; margin-bottom: 6px;">Server (ÏÑúÎ≤Ñ)</label>
                        <div id="mt5ServerDisplay" style="width: 100%; padding: 11px 12px; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 8px; color: white; font-size: 15px;">
                            HedgeHood-MT5
                        </div>
                        <input type="hidden" id="mt5Server" value="HedgeHood-MT5">
                    </div>
                    
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 14px; color: white; margin-bottom: 6px;">Account Number (Í≥ÑÏ¢åÎ≤àÌò∏)</label>
                        <input type="text" id="mt5AccountNumber" placeholder="Ïòà: 930000024" style="width: 100%; padding: 11px 12px; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 8px; color: white; font-size: 15px;">
                    </div>
                    
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 14px; color: white; margin-bottom: 6px;">Password (Í±∞ÎûòÍ≥ÑÏ¢å ÏïîÌò∏)</label>
                        <input type="password" id="mt5Password" placeholder="Í±∞ÎûòÍ≥ÑÏ¢å ÏïîÌò∏ ÏûÖÎ†•" style="width: 100%; padding: 11px 12px; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 8px; color: white; font-size: 15px;">
                        <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px; display: flex; align-items: center; gap: 4px;">
                            <span class="material-icons-round" style="font-size: 16px;">warning</span>
                            MT5 Î°úÍ∑∏Ïù∏ Ïãú ÏÇ¨Ïö©ÌïòÎäî ÏïîÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 12px;">
                        <button onclick="showMT5Step1()" style="flex: 1; padding: 16px; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 10px; color: white; font-size: 15px; font-weight: 600; cursor: pointer;">
                            Ïù¥Ï†Ñ
                        </button>
                        <button id="mt5ConnectBtn" onclick="connectMT5Account()" style="flex: 2; padding: 16px; background: linear-gradient(135deg, var(--accent-cyan) 0%, #0099cc 100%); border: none; border-radius: 10px; color: #000; font-size: 15px; font-weight: 700; cursor: pointer;">
                            Ïó∞Í≤∞ÌïòÍ∏∞
                        </button>
                    </div>
                </div>
                
                <!-- Ïã†Í∑ú Í≥ÑÏ¢å Í∞úÏÑ§ ÏïàÎÇ¥ -->
                <div id="mt5Step2New" style="display: none; padding: 25px;">
                    <div style="text-align: center; margin-bottom: 25px;">
                        <div style="width: 70px; height: 70px; margin: 0 auto 15px; background: linear-gradient(135deg, rgba(0, 180, 80, 0.2) 0%, rgba(0, 180, 80, 0.05) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <span class="material-icons-round" style="font-size: 36px; color: var(--buy-color);">rocket_launch</span>
                        </div>
                        <div style="font-size: 18px; font-weight: 600; color: white; margin-bottom: 5px;">HedgeHood Í≥ÑÏ¢å Í∞úÏÑ§</div>
                        <div style="font-size: 14px; color: var(--text-muted);">Í∞ÑÎã®Ìïú Ï†àÏ∞®Î°ú Í±∞ÎûòÎ•º ÏãúÏûëÌïòÏÑ∏Ïöî</div>
                    </div>
                    
                    <div style="background: var(--bg-tertiary); border-radius: 12px; padding: 18px; margin-bottom: 22px;">
                        <div style="display: flex; align-items: flex-start; gap: 14px; margin-bottom: 16px;">
                            <div style="width: 28px; height: 28px; background: var(--accent-cyan); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold; color: #000; flex-shrink: 0;">1</div>
                            <div>
                                <div style="font-size: 15px; font-weight: 600; color: white;">HedgeHood ÌôàÌéòÏù¥ÏßÄ Ï†ëÏÜç</div>
                                <div style="font-size: 13px; color: var(--text-muted);">hedgehood.com</div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: flex-start; gap: 14px; margin-bottom: 16px;">
                            <div style="width: 28px; height: 28px; background: var(--accent-cyan); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold; color: #000; flex-shrink: 0;">2</div>
                            <div>
                                <div style="font-size: 15px; font-weight: 600; color: white;">ÌöåÏõêÍ∞ÄÏûÖ Î∞è Î≥∏Ïù∏Ïù∏Ï¶ù</div>
                                <div style="font-size: 13px; color: var(--text-muted);">Ïù¥Î©îÏùº, Ïã†Î∂ÑÏ¶ù Ïù∏Ï¶ù</div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: flex-start; gap: 14px;">
                            <div style="width: 28px; height: 28px; background: var(--accent-cyan); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold; color: #000; flex-shrink: 0;">3</div>
                            <div>
                                <div style="font-size: 15px; font-weight: 600; color: white;">Í≥ÑÏ¢å Í∞úÏÑ§ Ïã†Ï≤≠</div>
                                <div style="font-size: 13px; color: var(--text-muted);">ÏïΩ 5~10Î∂Ñ ÏÜåÏöî</div>
                            </div>
                        </div>
                    </div>
                    
                    <a href="https://hedgehood.com" target="_blank" style="display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; padding: 16px; background: linear-gradient(135deg, var(--buy-color) 0%, #008040 100%); border: none; border-radius: 10px; color: white; font-size: 15px; font-weight: 700; cursor: pointer; text-decoration: none; margin-bottom: 15px;">
                        <span class="material-icons-round" style="font-size: 20px;">open_in_new</span>
                        HedgeHood.com Î∞îÎ°úÍ∞ÄÍ∏∞
                    </a>
                    
                    <div style="text-align: center; font-size: 13px; color: var(--text-muted); padding: 12px; background: rgba(0, 212, 255, 0.1); border-radius: 10px;">
                        <span class="material-icons-round" style="font-size: 16px; vertical-align: middle;">lightbulb</span>
                        Í≥ÑÏ¢å Í∞úÏÑ§ ÌõÑ Ïù¥ ÌôîÎ©¥ÏóêÏÑú MT5 Í≥ÑÏ¢åÎ•º Ïó∞Í≤∞ÌïòÏÑ∏Ïöî!
                    </div>
                    
                    <button onclick="showMT5Step1()" style="width: 100%; margin-top: 18px; padding: 14px; background: transparent; border: 1px solid var(--border-color); border-radius: 10px; color: var(--text-muted); font-size: 15px; font-weight: 600; cursor: pointer;">
                        Ïù¥Ï†ÑÏúºÎ°ú
                    </button>
                </div>
            </div>
        </div>

        <!-- MT5 Ïó∞Í≤∞ ÏÑ±Í≥µ Î™®Îã¨ -->
        <div class="modal-overlay" id="mt5SuccessModal">
            <div style="background: linear-gradient(180deg, #1e2127 0%, #15171c 100%); border: 2px solid var(--buy-color); border-radius: 16px; padding: 25px; margin: 20px; max-width: 340px; width: 100%; text-align: center; box-shadow: 0 0 60px rgba(0, 180, 80, 0.3);">
                <div style="width: 70px; height: 70px; margin: 0 auto 15px; background: linear-gradient(135deg, rgba(0, 180, 80, 0.2) 0%, rgba(0, 180, 80, 0.05) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <span class="material-icons-round" style="font-size: 36px; color: var(--buy-color);">check_circle</span>
                </div>
                <div style="font-size: 18px; font-weight: bold; color: var(--buy-color); margin-bottom: 5px;">Ïó∞Í≤∞ ÏôÑÎ£å!</div>
                <div style="font-size: 13px; color: var(--text-muted); margin-bottom: 20px;">MT5 Í≥ÑÏ¢åÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ïó∞Í≤∞ÎêòÏóàÏäµÎãàÎã§</div>
                
                <div style="background: var(--bg-tertiary); border-radius: 10px; padding: 15px; margin-bottom: 20px; text-align: left;">
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid var(--border-color);"><span style="color: var(--text-muted); font-size: 13px;">Broker</span><span style="font-weight: 600; font-size: 13px;" id="successBroker">HedgeHood</span></div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid var(--border-color);"><span style="color: var(--text-muted); font-size: 13px;">Account</span><span style="font-weight: 600; font-size: 13px;" id="successAccount">-</span></div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid var(--border-color);"><span style="color: var(--text-muted); font-size: 13px;">Server</span><span style="font-weight: 600; font-size: 13px;" id="successServer">-</span></div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0;"><span style="color: var(--text-muted); font-size: 13px;">Leverage</span><span style="font-weight: 600; font-size: 13px;" id="successLeverage">1:500</span></div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-top: 1px solid var(--border-color);" id="metaapiStatusRow">
                        <span style="color: var(--text-muted); font-size: 13px;">Trading API</span>
                        <span style="font-weight: 600; font-size: 13px;" id="metaapiStatusText">
                            <span style="color: #f0b90b;">‚è≥ Ï§ÄÎπÑÏ§ë...</span>
                        </span>
                    </div>
                </div>

                <div style="font-size: 13px; color: var(--accent-cyan); margin-bottom: 15px;" id="successMessage">üíé Í±∞Îûò ÏãúÏä§ÌÖúÏùÑ Ï§ÄÎπÑÌïòÍ≥† ÏûàÏäµÎãàÎã§...</div>
                
                <button onclick="closeMT5SuccessModal()" style="width: 100%; padding: 14px; background: linear-gradient(135deg, var(--buy-color) 0%, #008040 100%); border: none; border-radius: 10px; color: white; font-weight: 700; cursor: pointer;">
                    ÌôïÏù∏
                </button>
            </div>
        </div>

        <!-- Settings Modal -->
        <div class="modal-overlay" id="settingsModal">
            <div class="settings-panel">
                <div class="settings-header">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span>‚öôÔ∏è</span>
                        <span class="settings-title">Trading Settings</span>
                    </div>
                    <button class="settings-close" onclick="closeSettings()">‚úï</button>
                </div>
                
                <div class="settings-content">
                    <!-- Strategy Mode -->
                    <div class="settings-glow-box">
                    <div class="settings-section">
                        <div class="settings-label">STRATEGY MODE</div>
                        
                        <div class="mode-option selected" data-mode="basic" onclick="selectMode(this)">
                            <div class="mode-option-header">
                                <span class="mode-radio">‚óè</span>
                                <span class="mode-name" style="width: 80px;">Basic</span>
                                <span class="mode-desc">- Safe & Steady</span>
                            </div>
                        </div>
                        
                        <div class="mode-option" data-mode="noLimit" onclick="selectMode(this)">
                            <div class="mode-option-header">
                                <span class="mode-radio">‚óã</span>
                                <span class="mode-name" style="width: 80px;">No Limit</span>
                                <span class="mode-desc">- Up to 50%</span>
                            </div>
                        </div>
                        
                        <div class="mode-option" data-mode="martin" onclick="selectMode(this)">
                            <div class="mode-option-header">
                                <span class="mode-radio">‚óã</span>
                                <span class="mode-name" style="width: 80px;">Martin</span>
                                <span class="mode-desc">- High Risk</span>
                            </div>
                        </div>
                    </div>
                    </div>
                    
                    <!-- Trading Settings -->
                    <div class="settings-glow-box">
                    <div class="settings-section">
                        <div class="settings-label">TRADING SETTINGS</div>
                        
                        <!-- Symbol Selector -->
                        <div style="margin-bottom: 12px;">
                            <div style="font-size: 12px; color: white; margin-bottom: 6px;">Select Symbol</div>
                            <div style="position: relative;">
                                <div id="settingsSymbolBtn" style="padding: 10px 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 6px; cursor: pointer; display: flex; justify-content: space-between; align-items: center;" onclick="toggleSettingsSymbol()">
                                    <span id="settingsSymbolText" style="font-weight: bold;">BTCUSD</span>
                                    <span>‚ñº</span>
                                </div>
                                <div id="settingsSymbolDropdown" style="display: none; position: absolute; top: 100%; left: 0; right: 0; background: var(--bg-secondary); border: 1px solid var(--accent-cyan); border-radius: 6px; margin-top: 4px; z-index: 10;">
                                    <div style="padding: 10px 12px; cursor: pointer;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background=''" onclick="setSettingsSymbol('BTCUSD')">BTCUSD</div>
                                    <div style="padding: 10px 12px; cursor: pointer;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background=''" onclick="setSettingsSymbol('EURUSD.r')">EURUSD.r</div>
                                    <div style="padding: 10px 12px; cursor: pointer;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background=''" onclick="setSettingsSymbol('USDJPY.r')">USDJPY.r</div>
                                    <div style="padding: 10px 12px; cursor: pointer;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background=''" onclick="setSettingsSymbol('XAUUSD.r')">XAUUSD.r</div>
                                    <div style="padding: 10px 12px; cursor: pointer;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background=''" onclick="setSettingsSymbol('US100.')">US100.</div>
                                </div>
                            </div>
                            <div style="font-size: 10px; color: var(--text-muted); margin-top: 4px;" id="settingsSymbolDesc">Bitcoin | Spread: ~$11</div>
                        </div>
                        
                        <!-- Profit Target -->
                        <div class="input-row">
                            <div>
                                <span class="input-label">Profit Target</span>
                                <span class="input-hint" id="targetHint">(Range: $10 ~ $200)</span>
                            </div>
                            <div class="input-controls">
                                <button class="input-btn" onclick="adjustSettingsTarget(-10)">‚ñº</button>
                                <div class="input-value" id="settingsTargetValue">$100</div>
                                <button class="input-btn" onclick="adjustSettingsTarget(10)">‚ñ≤</button>
                            </div>
                        </div>
                        
                        <!-- Leverage / Lot Size -->
                        <div class="input-row">
                            <div>
                                <span class="input-label" id="leverageLotLabel">Leverage</span>
                                <span class="input-hint" id="leverageLotHint">(Range: x1 ~ x20)</span>
                            </div>
                            <div class="input-controls">
                                <button class="input-btn" onclick="adjustSettingsLeverage(-1)">‚ñº</button>
                                <input type="text" class="input-value" id="settingsLeverageValue" value="x5" 
                                onclick="this.select();" 
                                onchange="updateSettingsLeverageFromInput(this.value);"
                                style="cursor: text;">
                                <button class="input-btn" onclick="adjustSettingsLeverage(1)">‚ñ≤</button>
                            </div>
                        </div>
                        
                        <div class="settings-divider"></div>
                        
                        <!-- Martin Level -->
                        <div class="input-row" id="martinLevelRow" style="opacity: 0.4;">
                            <div class="martin-row">
                                <input type="checkbox" class="martin-checkbox" id="martinCheckbox" disabled onchange="toggleMartinLevel()">
                                <label for="martinCheckbox" class="input-label" style="cursor: pointer; -webkit-tap-highlight-color: transparent;">Martin Level</label>
                                <span class="input-hint">(Step: ~ 20)</span>
                            </div>
                            <div class="input-controls">
                                <button class="input-btn" id="martinDownBtn" disabled onclick="adjustMartinLevel(-1)">‚ñº</button>
                                <div class="input-value" id="martinLevelValue">3</div>
                                <button class="input-btn" id="martinUpBtn" disabled onclick="adjustMartinLevel(1)">‚ñ≤</button>
                            </div>
                        </div>
                        
                        <div class="martin-max" id="martinMaxInfo" style="display: none;">
                            <span>Available</span>
                            <button class="martin-max-btn" onclick="setMartinMax()">Max</button>
                            <span>: Step [<span id="martinMaxStep">7</span>] | Required [<span id="martinRequired">$12,700+</span>]</span>
                        </div>
                        
                        <div class="martin-info">Martin Level: Max recovery steps for Martingale mode</div>
                    </div>
                    </div>
                </div>
                
                <div class="settings-footer">
                    <button class="settings-footer-btn apply" onclick="applySettings()">Apply</button>
                    <button class="settings-footer-btn reset" onclick="resetSettings()">Reset</button>
                </div>
            </div>
        </div>
        
        <!-- Ï∞®Ìä∏ ÏÑúÎ∏åÎ©îÎâ¥ (Î∞îÌÖÄÏãúÌä∏) - New Design -->
<div class="submenu-overlay" id="chartSubmenuOverlay" onclick="closeChartSubmenu()">
    <div class="submenu-sheet" onclick="event.stopPropagation()">
        <div class="submenu-handle"></div>
        <div class="submenu-title">Chart</div>
        
        <div class="submenu-items">
            <!-- Ï¢ÖÎ™© Î™©Î°ù -->
            <div class="submenu-item" 
                 onclick="selectSubmenuItem('watchlist')"
                 onmousedown="submenuItemPressStart('watchlist', this)"
                 onmouseup="submenuItemPressEnd()"
                 onmouseleave="submenuItemPressEnd()"
                 ontouchstart="submenuItemPressStart('watchlist', this)"
                 ontouchend="submenuItemPressEnd()"
                 ontouchcancel="submenuItemPressEnd()">
                <div class="submenu-item-left">
                    <div class="submenu-item-icon cyan">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="22" height="22">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
                        </svg>
                    </div>
                    <div class="submenu-item-content">
                        <div class="submenu-item-title">Ï¢ÖÎ™© Î™©Î°ù</div>
                        <div class="submenu-item-subtitle">Watchlist</div>
                    </div>
                </div>
                <div class="submenu-item-badge" id="submenuWatchlistBadge" style="display: none;">Í∏∞Î≥∏</div>
                <svg class="submenu-item-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
                <div class="submenu-item-progress"></div>
            </div>
            
            <!-- Ï∞®Ìä∏ Î≥¥Í∏∞ -->
            <div class="submenu-item" 
                 onclick="selectSubmenuItem('chart')"
                 onmousedown="submenuItemPressStart('chart', this)"
                 onmouseup="submenuItemPressEnd()"
                 onmouseleave="submenuItemPressEnd()"
                 ontouchstart="submenuItemPressStart('chart', this)"
                 ontouchend="submenuItemPressEnd()"
                 ontouchcancel="submenuItemPressEnd()">
                <div class="submenu-item-left">
                    <div class="submenu-item-icon emerald">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="22" height="22">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4v16" />
                        </svg>
                    </div>
                    <div class="submenu-item-content">
                        <div class="submenu-item-title">Ï∞®Ìä∏ Î≥¥Í∏∞</div>
                        <div class="submenu-item-subtitle">Chart View</div>
                    </div>
                </div>
                <div class="submenu-item-badge" id="submenuChartBadge" style="display: none;">Í∏∞Î≥∏</div>
                <svg class="submenu-item-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
                <div class="submenu-item-progress"></div>
            </div>
        </div>
        
        <div class="submenu-hint">
            <p>üí° Í∏∏Í≤å ÎàÑÎ•¥Î©¥ Í∏∞Î≥∏ ÌôîÎ©¥ÏúºÎ°ú Îì±Î°ùÎê©ÎãàÎã§</p>
        </div>
    </div>
</div>

<!-- ÏÑúÎ∏åÎ©îÎâ¥ Îì±Î°ù ÌÜ†Ïä§Ìä∏ -->
<div class="submenu-toast" id="submenuToast">
    <div class="submenu-toast-icon">‚úÖ</div>
    <div class="submenu-toast-title">"<span id="submenuToastViewName">Ï∞®Ìä∏ Î≥¥Í∏∞</span>" Îì±Î°ù ÏôÑÎ£å!</div>
    <div class="submenu-toast-desc">ÏïûÏúºÎ°ú Ìï¥Îãπ ÌÉ≠ÏùÑ Í∏∏Í≤å ÎàÑÎ•¥Î©¥<br>Î∞îÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§ üöÄ</div>
</div>

<!-- Trade ÏÑúÎ∏åÎ©îÎâ¥ (Î∞îÌÖÄÏãúÌä∏) - New Design -->
<div class="submenu-overlay" id="tradeSubmenuOverlay" onclick="closeTradeSubmenu()">
    <div class="submenu-sheet" onclick="event.stopPropagation()">
        <div class="submenu-handle"></div>
        <div class="submenu-title">Trading</div>
        
                <div class="submenu-items">
            <div class="submenu-item" 
                 onclick="selectTradeSubmenuItem('multi')"
                 onmousedown="tradeSubmenuItemPressStart('multi', this)"
                 onmouseup="tradeSubmenuItemPressEnd()"
                 onmouseleave="tradeSubmenuItemPressEnd()"
                 ontouchstart="tradeSubmenuItemPressStart('multi', this)"
                 ontouchend="tradeSubmenuItemPressEnd()"
                 ontouchcancel="tradeSubmenuItemPressEnd()">
                <div class="submenu-item-left">
                    <div class="submenu-item-icon emerald">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="22" height="22">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                    </div>
                    <div class="submenu-item-content">
                        <div class="submenu-item-title">Quick & Easy</div>
                        <div class="submenu-item-subtitle">Easy Mode</div>
                    </div>
                </div>
                <div class="submenu-item-badge" id="submenuMultiBadge" style="display: none;">Í∏∞Î≥∏</div>
                <svg class="submenu-item-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
                <div class="submenu-item-progress"></div>
            </div>
            <div class="submenu-item" 
                 onclick="selectTradeSubmenuItem('buysell')"
                 onmousedown="tradeSubmenuItemPressStart('buysell', this)"
                 onmouseup="tradeSubmenuItemPressEnd()"
                 onmouseleave="tradeSubmenuItemPressEnd()"
                 ontouchstart="tradeSubmenuItemPressStart('buysell', this)"
                 ontouchend="tradeSubmenuItemPressEnd()"
                 ontouchcancel="tradeSubmenuItemPressEnd()">
                <div class="submenu-item-left">
                    <div class="submenu-item-icon cyan">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="22" height="22">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                        </svg>
                    </div>
                    <div class="submenu-item-content">
                        <div class="submenu-item-title">Buy/Sell Pro</div>
                        <div class="submenu-item-subtitle">Binary Mode</div>
                    </div>
                </div>
                <div class="submenu-item-badge" id="submenuBuysellBadge" style="display: none;">Í∏∞Î≥∏</div>
                <svg class="submenu-item-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
                <div class="submenu-item-progress"></div>
            </div>
            <div class="submenu-item" 
                 onclick="selectTradeSubmenuItem('multiV5')"
                 onmousedown="tradeSubmenuItemPressStart('multiV5', this)"
                 onmouseup="tradeSubmenuItemPressEnd()"
                 onmouseleave="tradeSubmenuItemPressEnd()"
                 ontouchstart="tradeSubmenuItemPressStart('multiV5', this)"
                 ontouchend="tradeSubmenuItemPressEnd()"
                 ontouchcancel="tradeSubmenuItemPressEnd()">
                <div class="submenu-item-left">
                    <div class="submenu-item-icon" style="background: rgba(0, 212, 255, 0.12); color: #00d4ff;">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="22" height="22">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                        </svg>
                    </div>
                    <div class="submenu-item-content">
                        <div class="submenu-item-title">Multi Order V5</div>
                        <div class="submenu-item-subtitle">New Design</div>
                    </div>
                </div>
                <div class="submenu-item-badge" id="submenuMultiV5Badge" style="display: none;">Í∏∞Î≥∏</div>
                <svg class="submenu-item-arrow" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
                <div class="submenu-item-progress"></div>
            </div>
        </div>
        
        <div class="submenu-hint">
            <p>üí° Í∏∏Í≤å ÎàÑÎ•¥Î©¥ Í∏∞Î≥∏ ÌôîÎ©¥ÏúºÎ°ú Îì±Î°ùÎê©ÎãàÎã§</p>
        </div>
    </div>
</div>

    <script src="js/config.js?v=1771411688"></script>
    <script src="js/state.js?v=1771411688"></script>
    <script src="js/auth.js?v=1771411688"></script>
    <script src="js/api.js?v=1771411688"></script>
    <script src="js/utils.js?v=1771411688"></script>
    <script src="js/watchlist.js?v=1771411688"></script>
    <script src="js/navigation.js?v=1771411688"></script>

    <!-- Chart Panels (Î™®ÎìàÌôî) -->
    <script src="js/panels/gaugePanel.js?v=1771411688"></script>
    <script src="js/panels/chartGaugePanel.js?v=1771411688"></script>

    <!-- Indicator System -->
    <script src="js/indicators/config.js?v=1771411688"></script>
    <script src="js/indicators/calculator.js?v=1771411688"></script>
    <script src="js/indicators/index.js?v=1771411688"></script>

    <!-- Chart Type System -->
    <script src="js/chartTypes/index.js?v=1771411688"></script>

    <script src="js/panels/chartPanel.js?v=1771411688"></script>
    <script src="js/panels/symbolSelectorPanel.js?v=1771411688"></script>
    <script src="js/panels/randomWalkPanel.js?v=1771411688"></script>
    <script src="js/panels/multiOrderPanelV5.js?v=1771411688"></script>
        <script src="js/panels/quickEasyPanel.js?v=1771411688"></script>
        <script src="js/panels/qeTickChart.js?v=1771411688"></script>

    <script src="js/chart.js?v=1771411688"></script>
    <script src="js/settings.js?v=1771411688"></script>
    <script>
        // ========== ÌÉÄÏûÑÌîÑÎ†àÏûÑ ÎìúÎ°≠Îã§Ïö¥ Ìï®Ïàò ==========
        function toggleTimeframeDropdown() {
            const dropdown = document.getElementById('tfDropdown');
            const btn = document.getElementById('tfDropdownBtn');
            dropdown.classList.toggle('show');
            btn.classList.toggle('open');
        }
        
        function selectTimeframe(tf, label) {
            // ÌòÑÏû¨ ÌÖçÏä§Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
            document.getElementById('currentTfText').textContent = label;
            
            // ÌôúÏÑ± ÏÉÅÌÉú Î≥ÄÍ≤Ω
            document.querySelectorAll('.tf-dropdown-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.tf === tf) {
                    item.classList.add('active');
                }
            });
            
            // ÎìúÎ°≠Îã§Ïö¥ Îã´Í∏∞
            document.getElementById('tfDropdown').classList.remove('show');
            document.getElementById('tfDropdownBtn').classList.remove('open');
            
            // ÌÉÄÏûÑÌîÑÎ†àÏûÑ Î≥ÄÍ≤Ω Î∞è Ï∫îÎì§ Î°úÎìú
            currentTimeframe = tf;
            if (typeof ChartPanel !== 'undefined') {
                ChartPanel.loadCandles();
            }
        }
    </script>

    <script>
    // ========== ÌÉÄÏûÑÌîÑÎ†àÏûÑ Î™®Îã¨ ÌåùÏóÖ ==========
    function openTfPopup() {
        document.getElementById('tfModalOverlay').style.display = 'flex';
    }
    
    function closeTfPopup() {
        document.getElementById('tfModalOverlay').style.display = 'none';
    }
    
    function selectTimeframe(tf, label) {
        document.getElementById('tfBtnText').textContent = label;
        
        document.querySelectorAll('.tf-modal-item').forEach(item => {
            item.classList.remove('active');
            item.style.background = '#2a3444';
            item.style.color = '#ffffff';
            item.style.border = 'none';
            if (item.dataset.tf === tf) {
                item.classList.add('active');
                item.style.background = 'linear-gradient(135deg,#00d4ff,#00b4d8)';
                item.style.color = '#000000';
            }
        });
        
        closeTfPopup();
        
        currentTimeframe = tf;
        if (typeof ChartPanel !== 'undefined' && ChartPanel.loadCandles) {
            ChartPanel.loadCandles();
        }
        
        showToast(label + ' ÌÉÄÏûÑÌîÑÎ†àÏûÑ Ï†ÅÏö©', 'success');
    }

    // ========== Ï∞®Ìä∏ ÌÉÄÏûÖ Î≥ÄÍ≤Ω ==========
    function changeChartType(type) {
        if (typeof ChartPanel !== 'undefined') {
            const changed = ChartPanel.changeChartType(type);
            if (changed) {
                const typeNames = {
                    candlestick: 'Ï∫îÎì§',
                    line: 'ÎùºÏù∏',
                    hollowCandle: 'Ìï†Î°úÏö∞ Ï∫îÎì§',
                    bar: 'OHLC Î∞î'
                };
                showToast(typeNames[type] + ' Ï∞®Ìä∏ Ï†ÅÏö©', 'success');
            }
        }
    }

    // Ï∞®Ìä∏ ÌÉÄÏûÖ ÌåùÏóÖ Ïó¥Í∏∞/Îã´Í∏∞
    function openChartType() {
        document.getElementById('chartTypeModalOverlay').style.display = 'flex';
    }

    function closeChartType() {
        document.getElementById('chartTypeModalOverlay').style.display = 'none';
    }

    // Ï∞®Ìä∏ ÌÉÄÏûÖ ÏÑ†ÌÉù
    function selectChartType(type) {
        changeChartType(type);

        // Î≤ÑÌäº ÌôúÏÑ± ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
        document.querySelectorAll('.ct-modal-item').forEach(item => {
            item.classList.remove('active');
            if (item.dataset.type === type) {
                item.classList.add('active');
            }
        });

        closeChartType();
    }

    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') closeTfPopup();
        if (e.key === 'Escape') closeIndPopup();
        if (e.key === 'Escape') closeChartType();
    });

    // ========== Î≥¥Ï°∞ÏßÄÌëú Î™®Îã¨ ==========
    const MAX_PANEL_INDICATORS = 3;  // Ìå®ÎÑê ÏßÄÌëú ÏµúÎåÄ Í∞úÏàò
    
    // ÏßÄÌëú ÏÑ§Ï†ï Ï†ïÎ≥¥
    const indicatorConfig = {
        // Ïò§Î≤ÑÎ†àÏù¥ ÏßÄÌëú
        sma: { name: 'SMA (200)', color: '#9C27B0', type: 'overlay' },
        ema: { name: 'EMA (20)', color: '#E91E63', type: 'overlay' },
        lwma: { name: 'LWMA (50)', color: '#FFC107', type: 'overlay' },
        wma: { name: 'WMA (14)', color: '#FF5722', type: 'overlay' },
        bb: { name: 'Bollinger Bands', color: '#2196F3', type: 'overlay' },
        keltner: { name: 'Keltner Channel', color: '#00ACC1', type: 'overlay' },
        donchian: { name: 'Donchian Channel', color: '#26A69A', type: 'overlay' },
        envelope: { name: 'Envelope', color: '#7E57C2', type: 'overlay' },
        psar: { name: 'Parabolic SAR', color: '#FFEB3B', type: 'overlay' },
        ichimoku: { name: 'Ichimoku Cloud', color: '#E040FB', type: 'overlay' },
        vwap: { name: 'VWAP', color: '#673AB7', type: 'overlay' },
        // Ìå®ÎÑê ÏßÄÌëú
        rsi: { name: 'RSI (14)', color: '#00BCD4', type: 'panel' },
        macd: { name: 'MACD', color: '#4CAF50', type: 'panel' },
        stoch: { name: 'Stochastic', color: '#FF9800', type: 'panel' },
        cci: { name: 'CCI (20)', color: '#8BC34A', type: 'panel' },
        williams: { name: 'Williams %R', color: '#F44336', type: 'panel' },
        mfi: { name: 'MFI (14)', color: '#009688', type: 'panel' },
        atr: { name: 'ATR (14)', color: '#795548', type: 'panel' },
        adx: { name: 'ADX (14)', color: '#607D8B', type: 'panel' },
        obv: { name: 'OBV', color: '#3F51B5', type: 'panel' }
    };
    
    // ÌòÑÏû¨ ÌôúÏÑ±ÌôîÎêú ÏßÄÌëú
    let activeIndicators = {
        overlay: ['bb', 'lwma'],  // Í∏∞Î≥∏ ÌôúÏÑ±Ìôî
        panel: []
    };
    
    function openIndPopup() {
        updatePanelCount();
        document.getElementById('indModalOverlay').style.display = 'flex';
    }
    
    function closeIndPopup() {
        document.getElementById('indModalOverlay').style.display = 'none';
    }
    
    function toggleIndicator(item) {
        const checkbox = item.querySelector('.ind-checkbox');
        const indId = item.dataset.ind;
        const indType = item.dataset.type;
        
        // Ìå®ÎÑê ÏßÄÌëú 3Í∞ú Ï†úÌïú Ï≤¥ÌÅ¨
        if (indType === 'panel' && !checkbox.classList.contains('checked')) {
            const currentPanelCount = document.querySelectorAll('.ind-item[data-type="panel"] .ind-checkbox.checked').length;
            if (currentPanelCount >= MAX_PANEL_INDICATORS) {
                showToast('‚ö†Ô∏è Ìå®ÎÑê ÏßÄÌëúÎäî ÏµúÎåÄ ' + MAX_PANEL_INDICATORS + 'Í∞úÍπåÏßÄÎßå Ï∂îÍ∞ÄÌï† Ïàò ÏûàÏäµÎãàÎã§', 'warning');
                return;
            }
        }
        
        checkbox.classList.toggle('checked');
        updatePanelCount();
    }
    
    function updatePanelCount() {
        const currentCount = document.querySelectorAll('.ind-item[data-type="panel"] .ind-checkbox.checked').length;
        const countDisplay = document.querySelector('.panel-count');
        if (countDisplay) {
            countDisplay.textContent = `(${currentCount}/${MAX_PANEL_INDICATORS})`;
            countDisplay.style.color = currentCount >= MAX_PANEL_INDICATORS ? '#ff5252' : '#FF9800';
        }
        
        // 3Í∞ú ÎèÑÎã¨ Ïãú ÎÇòÎ®∏ÏßÄ Ìå®ÎÑê ÏßÄÌëú ÎπÑÌôúÏÑ±Ìôî
        document.querySelectorAll('.ind-item[data-type="panel"]').forEach(item => {
            const isChecked = item.querySelector('.ind-checkbox').classList.contains('checked');
            if (currentCount >= MAX_PANEL_INDICATORS && !isChecked) {
                item.classList.add('panel-disabled');
            } else {
                item.classList.remove('panel-disabled');
            }
        });
    }
    
    function filterIndicators(query) {
        const items = document.querySelectorAll('.ind-item');
        query = query.toLowerCase();
        items.forEach(item => {
            const name = item.querySelector('.ind-name').textContent.toLowerCase();
            const desc = item.querySelector('.ind-desc').textContent.toLowerCase();
            if (name.includes(query) || desc.includes(query)) {
                item.style.display = 'flex';
            } else {
                item.style.display = 'none';
            }
        });
        
        // Ïπ¥ÌÖåÍ≥†Î¶¨ Ìó§Îçî ÌëúÏãú/Ïà®ÍπÄ
        document.querySelectorAll('.ind-category-header').forEach(header => {
            header.style.display = query ? 'none' : 'block';
        });
    }
    
    function resetIndicators() {
        console.log('[resetIndicators] Ï¥àÍ∏∞Ìôî Î≤ÑÌäº ÌÅ¥Î¶≠');

        // ÏßÄÌëú ÏÑ§Ï†ï localStorage Ï¥àÍ∏∞Ìôî
        localStorage.removeItem('indicator_config');

        // Î™®Îì† Ï≤¥ÌÅ¨Î∞ïÏä§ Ìï¥Ï†ú
        document.querySelectorAll('.ind-checkbox.checked').forEach(cb => {
            cb.classList.remove('checked');
        });

        // Í∏∞Î≥∏ ÏßÄÌëúÎßå ÌôúÏÑ±Ìôî: BB, LWMA
        ['bb', 'lwma'].forEach(indId => {
            const item = document.querySelector(`.ind-item[data-ind="${indId}"]`);
            if (item) {
                const checkbox = item.querySelector('.ind-checkbox');
                if (checkbox) checkbox.classList.add('checked');
            }
        });

        // IndicatorConfig ÏÑ§Ï†ï Ï¥àÍ∏∞Ìôî
        if (typeof IndicatorConfig !== 'undefined') {
            Object.values(IndicatorConfig.overlay).forEach(ind => ind.enabled = false);
            Object.values(IndicatorConfig.panel).forEach(ind => ind.enabled = false);
        }

        // Î™®Îì† ÏßÄÌëú Ï†úÍ±∞
        if (typeof IndicatorManager !== 'undefined') {
            IndicatorManager.removeAll();
        }

        // Ïò§Î≤ÑÎ†àÏù¥ ÏßÄÌëú Í∏∞Î≥∏ ÏÑ§Ï†ï Ï†ÅÏö©
        if (typeof ChartPanel !== 'undefined' && ChartPanel.setIndicators) {
            ChartPanel.setIndicators({ bb: true, lwma: true, ema: false, sma: false });
        }

        // Ï∞®Ìä∏ Îã§Ïãú Î°úÎìú
        if (typeof ChartPanel !== 'undefined') {
            ChartPanel.loadCandles();
        }

        // Ìå®ÎÑê Ïπ¥Ïö¥Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
        if (typeof updatePanelCount === 'function') {
            updatePanelCount();
        }

        closeIndPopup();
        showToast('Í∏∞Î≥∏ ÏßÄÌëúÎ°ú Ï¥àÍ∏∞Ìôî ÏôÑÎ£å', 'info');
    }
    
    function applyIndicators() {
        console.log('[applyIndicators] ÏãúÏûë');

        const selectedOverlay = [];
        const selectedPanel = [];

        document.querySelectorAll('.ind-checkbox.checked').forEach(cb => {
            const item = cb.closest('.ind-item');
            const indId = item.dataset.ind;
            const indType = item.dataset.type;

            if (indType === 'overlay') {
                selectedOverlay.push(indId);
            } else if (indType === 'panel') {
                selectedPanel.push(indId);
            }
        });

        // ÌôúÏÑ± ÏßÄÌëú ÏóÖÎç∞Ïù¥Ìä∏
        activeIndicators.overlay = selectedOverlay;
        activeIndicators.panel = selectedPanel;

        console.log('[applyIndicators] Ïò§Î≤ÑÎ†àÏù¥:', selectedOverlay);
        console.log('[applyIndicators] Ìå®ÎÑê:', selectedPanel);

        // IndicatorManager ÏÇ¨Ïö© (ÏÉà ÏãúÏä§ÌÖú)
        if (typeof IndicatorManager !== 'undefined') {
            console.log('[applyIndicators] IndicatorManager Ï°¥Ïû¨');
            console.log('[applyIndicators] mainChart:', IndicatorManager.mainChart ? 'OK' : 'NULL');

            // mainChartÍ∞Ä nullÏù¥Î©¥ Ï¥àÍ∏∞Ìôî ÏãúÎèÑ
            if (!IndicatorManager.mainChart && typeof chart !== 'undefined' && chart) {
                console.log('[applyIndicators] mainChart Ïû¨Ï¥àÍ∏∞Ìôî ÏãúÎèÑ');
                IndicatorManager.init(chart, candleSeries);
            }

            // Ïó¨Ï†ÑÌûà nullÏù¥Î©¥ Ìè¥Î∞±
            if (!IndicatorManager.mainChart) {
                console.warn('[applyIndicators] mainChartÍ∞Ä ÏóÜÏñ¥ÏÑú Ìè¥Î∞± ÏÇ¨Ïö©');
                applyOverlayIndicators(selectedOverlay);
                applyPanelIndicators(selectedPanel);
            } else {
                // Î™®Îì† ÏßÄÌëú ÎπÑÌôúÏÑ±Ìôî ÌõÑ ÏÑ†ÌÉùÎêú Í≤ÉÎßå ÌôúÏÑ±Ìôî
                IndicatorManager.removeAll();

                // ‚òÖ BB/LWMAÎäî ChartPanel ÎÇ¥Ïû• ÏãúÎ¶¨Ï¶à ÏÇ¨Ïö© (Ï§ëÎ≥µ Î∞©ÏßÄ)
                selectedOverlay.forEach(id => {
                    if (id !== 'bb' && id !== 'lwma') {
                        IndicatorManager.addIndicator(id, 'overlay');
                    }
                });

                selectedPanel.forEach(id => {
                    IndicatorManager.addIndicator(id, 'panel');
                });

                // ‚òÖ ChartPanel ÎÇ¥Ïû• BB/LWMA ÏãúÎ¶¨Ï¶à ÎèôÍ∏∞Ìôî (Ï≤¥ÌÅ¨ Ìï¥Ï†ú Ïãú Ï∞®Ìä∏ÏóêÏÑú Ï†úÍ±∞)
                if (typeof ChartPanel !== 'undefined' && ChartPanel.setIndicators) {
                    ChartPanel.setIndicators({
                        bb: selectedOverlay.includes('bb'),
                        lwma: selectedOverlay.includes('lwma'),
                        ema: selectedOverlay.includes('ema'),
                        sma: selectedOverlay.includes('sma')
                    });
                    // BB/LWMA ÌôúÏÑ±Ìôî Ïãú ÏÑúÎ≤Ñ Îç∞Ïù¥ÌÑ∞ Î¶¨Î°úÎìú
                    if (selectedOverlay.includes('bb') || selectedOverlay.includes('lwma')) {
                        if (typeof ChartPanel.loadIndicatorsOnly === 'function') {
                            ChartPanel.loadIndicatorsOnly();
                        }
                    }
                }

                console.log('[applyIndicators] IndicatorManagerÎ°ú ÏßÄÌëú Ï†ÅÏö© ÏôÑÎ£å');
            }
        } else {
            console.log('[applyIndicators] IndicatorManager ÏóÜÏùå, Ìè¥Î∞± ÏÇ¨Ïö©');
            applyOverlayIndicators(selectedOverlay);
            applyPanelIndicators(selectedPanel);
        }

        // Ï∞®Ìä∏ ÎûòÌçº ÌÅ¥ÎûòÏä§ ÏóÖÎç∞Ïù¥Ìä∏ (ÎÜíÏù¥ Ï°∞Ï†à)
        updateChartWrapperClass(selectedPanel.length);

        closeIndPopup();

        const totalCount = selectedOverlay.length + selectedPanel.length;
        showToast(totalCount + 'Í∞ú ÏßÄÌëúÍ∞Ä Ï†ÅÏö©ÎêòÏóàÏäµÎãàÎã§', 'success');
    }
    
    // Ïò§Î≤ÑÎ†àÏù¥ ÏßÄÌëú Ï†ÅÏö©
    function applyOverlayIndicators(indicators) {
        if (typeof ChartPanel !== 'undefined' && ChartPanel.setIndicators) {
            ChartPanel.setIndicators({
                bb: indicators.includes('bb'),
                lwma: indicators.includes('lwma'),
                ema: indicators.includes('ema'),
                sma: indicators.includes('sma')
            });
        }
    }
    
    // Ìå®ÎÑê ÏßÄÌëú Ï†ÅÏö©
    function applyPanelIndicators(indicators) {
        const panelsContainer = document.getElementById('indicator-panels');
        if (!panelsContainer) return;
        
        // Í∏∞Ï°¥ Ìå®ÎÑê Ï†úÍ±∞
        panelsContainer.innerHTML = '';
        
        // ÏÉà Ìå®ÎÑê ÏÉùÏÑ±
        indicators.forEach(indId => {
            const config = indicatorConfig[indId];
            if (!config) return;
            
            const panel = createIndicatorPanel(indId, config);
            panelsContainer.appendChild(panel);
        });
        
        // Ìå®ÎÑê Ï∞®Ìä∏ Ï¥àÍ∏∞Ìôî (Lightweight Charts)
        indicators.forEach(indId => {
            initPanelChart(indId);
        });
    }
    
    // Ìå®ÎÑê ÏßÄÌëú DOM ÏÉùÏÑ±
    function createIndicatorPanel(indId, config) {
        const panel = document.createElement('div');
        panel.className = 'indicator-panel';
        panel.id = `panel-${indId}`;
        panel.innerHTML = `
            <div class="indicator-panel-header">
                <div class="indicator-panel-title">
                    <span class="color-dot" style="background: ${config.color};"></span>
                    <span>${config.name}</span>
                </div>
                <button class="indicator-panel-close" onclick="removeIndicatorPanel('${indId}')" title="ÏßÄÌëú ÏÇ≠Ï†ú">‚úï</button>
            </div>
            <div class="indicator-panel-chart" id="panel-chart-${indId}"></div>
        `;
        return panel;
    }
    
    // Ìå®ÎÑê Ï∞®Ìä∏ Ï¥àÍ∏∞Ìôî (Lightweight Charts)
    function initPanelChart(indId) {
        const container = document.getElementById(`panel-chart-${indId}`);
        if (!container || typeof LightweightCharts === 'undefined') return;
        
        const config = indicatorConfig[indId];
        
        const panelChart = LightweightCharts.createChart(container, {
            width: container.clientWidth,
            height: 120,
            layout: {
                background: { color: 'transparent' },
                textColor: '#8899a6'
            },
            grid: {
                vertLines: { color: '#1e2d3d' },
                horzLines: { color: '#1e2d3d' }
            },
            rightPriceScale: {
                borderColor: 'rgba(0, 212, 255, 0.3)',
                scaleMargins: { top: 0.1, bottom: 0.1 }
            },
            timeScale: {
                visible: false
            },
            crosshair: {
                mode: LightweightCharts.CrosshairMode.Normal
            }
        });
        
        // ÎçîÎØ∏ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±
        const dummyData = generateDummyIndicatorData(indId);
        
        // ÏßÄÌëú ÌÉÄÏûÖÏóê Îî∞Î•∏ ÏãúÎ¶¨Ï¶à ÏÉùÏÑ±
        if (indId === 'macd') {
            // MACD: ÌûàÏä§ÌÜ†Í∑∏Îû® (0 Í∏∞Ï§Ä ÏñëÏàò=Ï¥àÎ°ù, ÏùåÏàò=Îπ®Í∞ï)
            const histogramSeries = panelChart.addHistogramSeries({
                priceLineVisible: false,
                lastValueVisible: true,
                priceFormat: { type: 'price', precision: 2 }
            });
            histogramSeries.setData(dummyData.histogram);
            
            // MACD ÎùºÏù∏ (ÌååÎûë)
            const macdLineSeries = panelChart.addLineSeries({
                color: '#2196F3',
                lineWidth: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            macdLineSeries.setData(dummyData.macdLine);
            
            // ÏãúÍ∑∏ÎÑê ÎùºÏù∏ (Ï£ºÌô©)
            const signalSeries = panelChart.addLineSeries({
                color: '#FF9800',
                lineWidth: 1,
                priceLineVisible: false,
                lastValueVisible: false
            });
            signalSeries.setData(dummyData.signalLine);
            
            // 0 Í∏∞Ï§ÄÏÑ† (Ìù∞ÏÉâ Ï†êÏÑ†)
            const zeroLine = panelChart.addLineSeries({
                color: 'rgba(255, 255, 255, 0.3)',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            zeroLine.setData(dummyData.macdLine.map(d => ({ time: d.time, value: 0 })));
            
        } else if (indId === 'rsi') {
            // RSI: ÎùºÏù∏ + Í≥ºÎß§Ïàò/Í≥ºÎß§ÎèÑ Í∏∞Ï§ÄÏÑ†
            const rsiSeries = panelChart.addLineSeries({
                color: config.color,
                lineWidth: 2,
                priceLineVisible: false,
                lastValueVisible: true
            });
            rsiSeries.setData(dummyData);
            
            // 70 Í∏∞Ï§ÄÏÑ† (Í≥ºÎß§Ïàò - Îπ®Í∞ï Ï†êÏÑ†)
            const overboughtLine = panelChart.addLineSeries({
                color: '#ff5252',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            overboughtLine.setData(dummyData.map(d => ({ time: d.time, value: 70 })));
            
            // 50 Í∏∞Ï§ÄÏÑ† (Ï§ëÎ¶Ω - Ìù∞ÏÉâ Ï†êÏÑ†)
            const midLine = panelChart.addLineSeries({
                color: 'rgba(255, 255, 255, 0.3)',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            midLine.setData(dummyData.map(d => ({ time: d.time, value: 50 })));
            
            // 30 Í∏∞Ï§ÄÏÑ† (Í≥ºÎß§ÎèÑ - Ï¥àÎ°ù Ï†êÏÑ†)
            const oversoldLine = panelChart.addLineSeries({
                color: '#00c853',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            oversoldLine.setData(dummyData.map(d => ({ time: d.time, value: 30 })));
            
        } else if (indId === 'stoch') {
            // Stochastic: %K, %D Îëê ÎùºÏù∏ + 80/20 Í∏∞Ï§ÄÏÑ†
            const kSeries = panelChart.addLineSeries({
                color: '#00BCD4',
                lineWidth: 2,
                priceLineVisible: false,
                lastValueVisible: true
            });
            kSeries.setData(dummyData.kLine);
            
            const dSeries = panelChart.addLineSeries({
                color: '#FF5722',
                lineWidth: 1,
                priceLineVisible: false,
                lastValueVisible: false
            });
            dSeries.setData(dummyData.dLine);
            
            // 80 Í∏∞Ï§ÄÏÑ† (Í≥ºÎß§Ïàò - Îπ®Í∞ï Ï†êÏÑ†)
            const overboughtLine = panelChart.addLineSeries({
                color: '#ff5252',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            overboughtLine.setData(dummyData.kLine.map(d => ({ time: d.time, value: 80 })));
            
            // 50 Í∏∞Ï§ÄÏÑ† (Ï§ëÎ¶Ω - Ìù∞ÏÉâ Ï†êÏÑ†)
            const midLine = panelChart.addLineSeries({
                color: 'rgba(255, 255, 255, 0.3)',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            midLine.setData(dummyData.kLine.map(d => ({ time: d.time, value: 50 })));
            
            // 20 Í∏∞Ï§ÄÏÑ† (Í≥ºÎß§ÎèÑ - Ï¥àÎ°ù Ï†êÏÑ†)
            const oversoldLine = panelChart.addLineSeries({
                color: '#00c853',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            oversoldLine.setData(dummyData.kLine.map(d => ({ time: d.time, value: 20 })));
            
        } else if (indId === 'cci') {
            // CCI: ÎùºÏù∏ + 100/-100 Í∏∞Ï§ÄÏÑ†
            const cciSeries = panelChart.addLineSeries({
                color: config.color,
                lineWidth: 2,
                priceLineVisible: false,
                lastValueVisible: true
            });
            cciSeries.setData(dummyData);
            
            // +100 Í∏∞Ï§ÄÏÑ†
            const upperLine = panelChart.addLineSeries({
                color: '#ff5252',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            upperLine.setData(dummyData.map(d => ({ time: d.time, value: 100 })));
            
            // 0 Í∏∞Ï§ÄÏÑ†
            const zeroLine = panelChart.addLineSeries({
                color: 'rgba(255, 255, 255, 0.3)',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            zeroLine.setData(dummyData.map(d => ({ time: d.time, value: 0 })));
            
            // -100 Í∏∞Ï§ÄÏÑ†
            const lowerLine = panelChart.addLineSeries({
                color: '#00c853',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            lowerLine.setData(dummyData.map(d => ({ time: d.time, value: -100 })));
            
        } else if (indId === 'williams') {
            // Williams %R: ÎùºÏù∏ + -20/-80 Í∏∞Ï§ÄÏÑ†
            const wrSeries = panelChart.addLineSeries({
                color: config.color,
                lineWidth: 2,
                priceLineVisible: false,
                lastValueVisible: true
            });
            wrSeries.setData(dummyData);
            
            // -20 Í∏∞Ï§ÄÏÑ† (Í≥ºÎß§Ïàò)
            const upperLine = panelChart.addLineSeries({
                color: '#ff5252',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            upperLine.setData(dummyData.map(d => ({ time: d.time, value: -20 })));
            
            // -50 Í∏∞Ï§ÄÏÑ†
            const midLine = panelChart.addLineSeries({
                color: 'rgba(255, 255, 255, 0.3)',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            midLine.setData(dummyData.map(d => ({ time: d.time, value: -50 })));
            
            // -80 Í∏∞Ï§ÄÏÑ† (Í≥ºÎß§ÎèÑ)
            const lowerLine = panelChart.addLineSeries({
                color: '#00c853',
                lineWidth: 1,
                lineStyle: 2,
                priceLineVisible: false,
                lastValueVisible: false
            });
            lowerLine.setData(dummyData.map(d => ({ time: d.time, value: -80 })));
            
        } else {
            // Í∏∞ÌÉÄ ÏßÄÌëú: Îã®Ïùº ÎùºÏù∏
            const series = panelChart.addLineSeries({
                color: config.color,
                lineWidth: 2,
                priceLineVisible: false,
                lastValueVisible: true
            });
            series.setData(dummyData);
        }
        
        // Î¶¨ÏÇ¨Ïù¥Ï¶à ÎåÄÏùë
        window.addEventListener('resize', () => {
            panelChart.applyOptions({ width: container.clientWidth });
        });
        
        // Ï∞®Ìä∏ Í∞ùÏ≤¥ Ï†ÄÏû• (ÎÇòÏ§ëÏóê ÏÇ≠Ï†úÏö©)
        container._chart = panelChart;
    }
    
    // ÎçîÎØ∏ Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± (Ïã§Ï†úÎ°úÎäî ÏÑúÎ≤Ñ API ÌïÑÏöî)
    function generateDummyIndicatorData(indId) {
        const now = Math.floor(Date.now() / 1000);
        const baseTime = now - (200 * 60);
        const count = 200;
        
        if (indId === 'macd') {
            // MACD: 0 Í∏∞Ï§ÄÏúºÎ°ú ÏúÑÏïÑÎûòÎ°ú ÏõÄÏßÅÏù¥Îäî Îç∞Ïù¥ÌÑ∞
            const histogram = [];
            const macdLine = [];
            const signalLine = [];
            
            let macdVal = 0;
            let signalVal = 0;
            
            for (let i = 0; i < count; i++) {
                // 0ÏùÑ Í∏∞Ï§ÄÏúºÎ°ú ÏúÑÏïÑÎûòÎ°ú ÏõÄÏßÅÏûÑ
                macdVal += (Math.random() - 0.5) * 3;
                macdVal = Math.max(-20, Math.min(20, macdVal));
                
                // ÏãúÍ∑∏ÎÑêÏùÄ MACDÎ•º Îî∞ÎùºÍ∞ÄÎäî ÎäêÎ¶∞ ÎùºÏù∏
                signalVal += (macdVal - signalVal) * 0.15;
                
                const histVal = macdVal - signalVal;
                
                histogram.push({
                    time: baseTime + (i * 60),
                    value: histVal,
                    color: histVal >= 0 ? 'rgba(0, 200, 83, 0.8)' : 'rgba(255, 82, 82, 0.8)'
                });
                
                macdLine.push({
                    time: baseTime + (i * 60),
                    value: macdVal
                });
                
                signalLine.push({
                    time: baseTime + (i * 60),
                    value: signalVal
                });
            }
            
            return { histogram, macdLine, signalLine };
            
        } else if (indId === 'stoch') {
            // Stochastic: 0~100 Î≤îÏúÑ, %KÏôÄ %D
            const kLine = [];
            const dLine = [];
            
            let kVal = 50;
            let dVal = 50;
            
            for (let i = 0; i < count; i++) {
                kVal += (Math.random() - 0.5) * 20;
                kVal = Math.max(0, Math.min(100, kVal));
                
                dVal += (kVal - dVal) * 0.25;
                
                kLine.push({ time: baseTime + (i * 60), value: kVal });
                dLine.push({ time: baseTime + (i * 60), value: dVal });
            }
            
            return { kLine, dLine };
            
        } else if (indId === 'rsi') {
            // RSI: 0~100 Î≤îÏúÑ, Ï£ºÎ°ú 30~70 ÏÇ¨Ïù¥
            const data = [];
            let rsiVal = 50;
            
            for (let i = 0; i < count; i++) {
                rsiVal += (Math.random() - 0.5) * 10;
                rsiVal += (50 - rsiVal) * 0.03;  // 50ÏúºÎ°ú ÌöåÍ∑Ä
                rsiVal = Math.max(15, Math.min(85, rsiVal));
                
                data.push({ time: baseTime + (i * 60), value: rsiVal });
            }
            return data;
            
        } else if (indId === 'cci') {
            // CCI: -200 ~ 200 Î≤îÏúÑ, Ï£ºÎ°ú -100 ~ 100 ÏÇ¨Ïù¥
            const data = [];
            let cciVal = 0;
            
            for (let i = 0; i < count; i++) {
                cciVal += (Math.random() - 0.5) * 30;
                cciVal += (0 - cciVal) * 0.02;  // 0ÏúºÎ°ú ÌöåÍ∑Ä
                cciVal = Math.max(-200, Math.min(200, cciVal));
                
                data.push({ time: baseTime + (i * 60), value: cciVal });
            }
            return data;
            
        } else if (indId === 'williams') {
            // Williams %R: -100 ~ 0 Î≤îÏúÑ
            const data = [];
            let wrVal = -50;
            
            for (let i = 0; i < count; i++) {
                wrVal += (Math.random() - 0.5) * 15;
                wrVal += (-50 - wrVal) * 0.02;  // -50ÏúºÎ°ú ÌöåÍ∑Ä
                wrVal = Math.max(-100, Math.min(0, wrVal));
                
                data.push({ time: baseTime + (i * 60), value: wrVal });
            }
            return data;
            
        } else if (indId === 'mfi') {
            // MFI: 0~100 Î≤îÏúÑ (RSIÏôÄ Ïú†ÏÇ¨)
            const data = [];
            let mfiVal = 50;
            
            for (let i = 0; i < count; i++) {
                mfiVal += (Math.random() - 0.5) * 12;
                mfiVal += (50 - mfiVal) * 0.02;
                mfiVal = Math.max(10, Math.min(90, mfiVal));
                
                data.push({ time: baseTime + (i * 60), value: mfiVal });
            }
            return data;
            
        } else if (indId === 'atr') {
            // ATR: ÏñëÏàòÎßå, Î≥ÄÎèôÏÑ± ÏßÄÌëú
            const data = [];
            let atrVal = 50;
            
            for (let i = 0; i < count; i++) {
                atrVal += (Math.random() - 0.5) * 8;
                atrVal = Math.max(10, Math.min(100, atrVal));
                
                data.push({ time: baseTime + (i * 60), value: atrVal });
            }
            return data;
            
        } else if (indId === 'adx') {
            // ADX: 0~100 Î≤îÏúÑ, Ï£ºÎ°ú 10~50 ÏÇ¨Ïù¥
            const data = [];
            let adxVal = 25;
            
            for (let i = 0; i < count; i++) {
                adxVal += (Math.random() - 0.5) * 6;
                adxVal += (25 - adxVal) * 0.02;
                adxVal = Math.max(5, Math.min(60, adxVal));
                
                data.push({ time: baseTime + (i * 60), value: adxVal });
            }
            return data;
            
        } else if (indId === 'obv') {
            // OBV: ÎàÑÏ†Å Í±∞ÎûòÎüâ, ÏÉÅÏäπ/ÌïòÎùΩ Ï∂îÏÑ∏
            const data = [];
            let obvVal = 1000000;
            
            for (let i = 0; i < count; i++) {
                obvVal += (Math.random() - 0.48) * 50000;  // ÏïΩÍ∞Ñ ÏÉÅÏäπ Ìé∏Ìñ•
                
                data.push({ time: baseTime + (i * 60), value: obvVal });
            }
            return data;
            
        } else {
            // Í∏∞ÌÉÄ: 0~100 Î≤îÏúÑ
            const data = [];
            let val = 50;
            
            for (let i = 0; i < count; i++) {
                val += (Math.random() - 0.5) * 10;
                val = Math.max(0, Math.min(100, val));
                data.push({ time: baseTime + (i * 60), value: val });
            }
            return data;
        }
    }
    
    // Ìå®ÎÑê ÏßÄÌëú ÏÇ≠Ï†ú
    function removeIndicatorPanel(indId) {
        const panel = document.getElementById(`panel-${indId}`);
        if (panel) {
            // Ï∞®Ìä∏ Ï†ïÎ¶¨
            const chartContainer = document.getElementById(`panel-chart-${indId}`);
            if (chartContainer && chartContainer._chart) {
                chartContainer._chart.remove();
            }
            
            // DOM Ï†úÍ±∞
            panel.remove();
        }
        
        // ÌôúÏÑ± ÏßÄÌëúÏóêÏÑú Ï†úÍ±∞
        activeIndicators.panel = activeIndicators.panel.filter(id => id !== indId);
        
        // Î™®Îã¨ Ï≤¥ÌÅ¨Î∞ïÏä§ Ìï¥Ï†ú
        const item = document.querySelector(`.ind-item[data-ind="${indId}"]`);
        if (item) {
            item.querySelector('.ind-checkbox').classList.remove('checked');
        }
        
        updateChartWrapperClass(activeIndicators.panel.length);
        updatePanelCount();
        
        showToast('üóëÔ∏è ' + indicatorConfig[indId].name + ' ÏßÄÌëúÍ∞Ä ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§', 'info');
    }
    
    // Ïò§Î≤ÑÎ†àÏù¥ ÏßÄÌëú ÏÇ≠Ï†ú
    function removeOverlayIndicator(indId) {
        activeIndicators.overlay = activeIndicators.overlay.filter(id => id !== indId);
        
        // Î™®Îã¨ Ï≤¥ÌÅ¨Î∞ïÏä§ Ìï¥Ï†ú
        const item = document.querySelector(`.ind-item[data-ind="${indId}"]`);
        if (item) {
            item.querySelector('.ind-checkbox').classList.remove('checked');
        }
        
        // Ï∞®Ìä∏ÏóêÏÑú ÏßÄÌëú Ïà®ÍπÄ
        applyOverlayIndicators(activeIndicators.overlay);
        
        showToast('üóëÔ∏è ' + indicatorConfig[indId].name + ' ÏßÄÌëúÍ∞Ä ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§', 'info');
    }
    
    // Ï∞®Ìä∏ ÎûòÌçº ÌÅ¥ÎûòÏä§ ÏóÖÎç∞Ïù¥Ìä∏ (ÎÜíÏù¥ Ï°∞Ï†à)
    function updateChartWrapperClass(panelCount) {
        const wrapper = document.getElementById('chart-wrapper');
        if (!wrapper) return;
        
        // Í∏∞Ï°¥ ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
        wrapper.classList.remove('panels-0', 'panels-1', 'panels-2', 'panels-3');
        
        // ÏÉà ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä
        wrapper.classList.add(`panels-${Math.min(panelCount, 3)}`);
        
        // Î©îÏù∏ Ï∞®Ìä∏ Î¶¨ÏÇ¨Ïù¥Ï¶à
        if (typeof chart !== 'undefined' && chart) {
            setTimeout(() => {
                    const container = document.getElementById('chart-container');
                    if (container) {
                        // Î™®Î∞îÏùº ÌôîÎ©¥ Í∞êÏßÄ
                        const isMobile = window.innerWidth <= 480;
                        const chartHeight = isMobile ? 280 : container.clientHeight;
                        
                        chart.applyOptions({
                            height: chartHeight
                        });
                    }
                }, 350); // CSS transition Ïù¥ÌõÑ
        }
    }
    
    // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
    document.addEventListener('DOMContentLoaded', function() {
        // Ï∞®Ìä∏ ÎûòÌçº Ï¥àÍ∏∞ ÌÅ¥ÎûòÏä§ ÏÑ§Ï†ï
        updateChartWrapperClass(0);

        // Ï†ÄÏû•Îêú Ï∞®Ìä∏ ÌÉÄÏûÖÏúºÎ°ú UI Ï¥àÍ∏∞Ìôî
        const savedChartType = localStorage.getItem('chart_type') || 'candlestick';
        document.querySelectorAll('.ct-modal-item').forEach(item => {
            if (item.dataset.type === savedChartType) {
                item.classList.add('active');
            } else {
                item.classList.remove('active');
            }
        });
    });
    
    // ========== Ï¢ÖÎ™© Ï†ïÎ≥¥ ÏÑπÏÖò ==========
    function toggleSymbolInfoSection() {
        const content = document.getElementById('symbolInfoContent');
        const icon = document.getElementById('symbolInfoToggleIcon');
        
        content.classList.toggle('collapsed');
        icon.classList.toggle('open');
    }
    
    // Ï¢ÖÎ™© Ï†ïÎ≥¥ Îç∞Ïù¥ÌÑ∞ (MT5 Ïã§Ï†ú Îç∞Ïù¥ÌÑ∞ Í∏∞Ï§Ä)
    const symbolInfoData = {
        'BTCUSD': {
            icon: '‚Çø', iconColor: '#f7931a', name: 'Bitcoin', desc: 'Bitcoin vs US Dollar',
            lotSize: '1 Contract', tickSize: '0.01', minLot: '0.01 lot', maxLot: '10.00 lot',
            pipSize: '0.01 (2 digits)', stopLevel: '0',
            spread: 'Ïú†Îèô Ïä§ÌîÑÎ†àÎìú', spreadPips: '~15 pips',
            swapLong: '-17.76%', swapLongClass: 'negative',
            swapShort: '-11.84%', swapShortClass: 'negative',
            swap3Day: 'Wednesday',
            hours: { sun: '00:02 - 23:57', mon: '00:02 - 23:57', tue: '00:02 - 23:57', wed: '00:02 - 23:57', thu: '00:02 - 23:57', fri: '00:02 - 23:57', sat: '00:00 - 14:00' }
        },
        'EURUSD.r': {
            icon: '‚Ç¨', iconColor: '#0052cc', name: 'Euro/Dollar', desc: 'Euro vs US Dollar',
            lotSize: '100,000 EUR', tickSize: '0.00001', minLot: '0.01 lot', maxLot: '50.00 lot',
            pipSize: '0.00001 (5 digits)', stopLevel: '0',
            spread: 'Ïú†Îèô Ïä§ÌîÑÎ†àÎìú', spreadPips: '~1.0 pips',
            swapLong: '-8.9 points', swapLongClass: 'negative',
            swapShort: '+3.3 points', swapShortClass: 'positive',
            swap3Day: 'Wednesday',
            hours: { sun: '‚Äî', mon: '00:02 - 23:58', tue: '00:02 - 23:58', wed: '00:02 - 23:58', thu: '00:02 - 23:58', fri: '00:02 - 23:58', sat: '‚Äî' }
        },
        'USDJPY.r': {
            icon: '¬•', iconColor: '#dc143c', name: 'Dollar/Yen', desc: 'US Dollar vs Japanese Yen',
            lotSize: '100,000 USD', tickSize: '0.001', minLot: '0.01 lot', maxLot: '50.00 lot',
            pipSize: '0.001 (3 digits)', stopLevel: '0',
            spread: 'Ïú†Îèô Ïä§ÌîÑÎ†àÎìú', spreadPips: '~1.0 pips',
            swapLong: '+9.0 points', swapLongClass: 'positive',
            swapShort: '-19.5 points', swapShortClass: 'negative',
            swap3Day: 'Wednesday',
            hours: { sun: '‚Äî', mon: '00:02 - 23:58', tue: '00:02 - 23:58', wed: '00:02 - 23:58', thu: '00:02 - 23:58', fri: '00:02 - 23:58', sat: '‚Äî' }
        },
        'XAUUSD.r': {
            icon: '‚ú¶', iconColor: '#ffd700', name: 'Gold', desc: 'Gold vs US Dollar',
            lotSize: '100 oz', tickSize: '0.01', minLot: '0.01 lot', maxLot: '20.00 lot',
            pipSize: '0.01 (2 digits)', stopLevel: '0',
            spread: 'Ïú†Îèô Ïä§ÌîÑÎ†àÎìú', spreadPips: '~16 pips',
            swapLong: '-53.5 points', swapLongClass: 'negative',
            swapShort: '+27.6 points', swapShortClass: 'positive',
            swap3Day: 'Wednesday',
            hours: { sun: '‚Äî', mon: '01:02 - 23:58', tue: '01:02 - 23:58', wed: '01:02 - 23:58', thu: '01:02 - 23:58', fri: '01:02 - 23:58', sat: '‚Äî' }
        },
        'US100.': {
            icon: '‚¨°', iconColor: '#00b450', name: 'NASDAQ', desc: 'US Tech 100 Index Cash',
            lotSize: '20 Contract', tickSize: '0.01', minLot: '0.01 lot', maxLot: '200.00 lot',
            pipSize: '0.01 (2 digits)', stopLevel: '0',
            spread: 'Ïú†Îèô Ïä§ÌîÑÎ†àÎìú', spreadPips: '~100 pips',
            swapLong: '-165 USD', swapLongClass: 'negative',
            swapShort: '+43.4 USD', swapShortClass: 'positive',
            swap3Day: 'Friday',
            hours: { sun: '‚Äî', mon: '01:02 - 23:58', tue: '01:02 - 23:58', wed: '01:02 - 23:58', thu: '01:02 - 23:58', fri: '01:02 - 23:55', sat: '‚Äî' }
        },
        'GBPUSD.r': {
            icon: '¬£', iconColor: '#9c27b0', name: 'Pound/Dollar', desc: 'British Pound vs US Dollar',
            lotSize: '100,000 GBP', tickSize: '0.00001', minLot: '0.01 lot', maxLot: '50.00 lot',
            pipSize: '0.00001 (5 digits)', stopLevel: '0',
            spread: 'Ïú†Îèô Ïä§ÌîÑÎ†àÎìú', spreadPips: '~1.2 pips',
            swapLong: '-4.2 points', swapLongClass: 'negative',
            swapShort: '+0.8 points', swapShortClass: 'positive',
            swap3Day: 'Wednesday',
            hours: { sun: '‚Äî', mon: '00:02 - 23:58', tue: '00:02 - 23:58', wed: '00:02 - 23:58', thu: '00:02 - 23:58', fri: '00:02 - 23:58', sat: '‚Äî' }
        },
        'ETHUSD': {
            icon: 'Œû', iconColor: '#627eea', name: 'Ethereum', desc: 'Ethereum vs US Dollar',
            lotSize: '1 Contract', tickSize: '0.01', minLot: '0.01 lot', maxLot: '10.00 lot',
            pipSize: '0.01 (2 digits)', stopLevel: '0',
            spread: 'Ïú†Îèô Ïä§ÌîÑÎ†àÎìú', spreadPips: '~150 pips',
            swapLong: '-15.0%', swapLongClass: 'negative',
            swapShort: '-10.0%', swapShortClass: 'negative',
            swap3Day: 'Wednesday',
            hours: { sun: '00:02 - 23:57', mon: '00:02 - 23:57', tue: '00:02 - 23:57', wed: '00:02 - 23:57', thu: '00:02 - 23:57', fri: '00:02 - 23:57', sat: '00:00 - 14:00' }
        }
    };

    // Ï¢ÖÎ™© Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏ Ìï®Ïàò
    function updateSymbolInfo(symbol) {
        const data = symbolInfoData[symbol];
        if (!data) {
            console.warn('[updateSymbolInfo] Ï¢ÖÎ™© Ï†ïÎ≥¥ ÏóÜÏùå:', symbol);
            return;
        }
        
        console.log('[updateSymbolInfo] Ï¢ÖÎ™© Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏:', symbol);
        
        // Ï¢ÖÎ™©Î™Ö Ìó§Îçî
        const iconEl = document.getElementById('infoSymbolIcon');
        if (iconEl) {
            iconEl.textContent = data.icon;
            iconEl.style.color = data.iconColor;
        }
        
        const nameEl = document.getElementById('infoSymbolName');
        if (nameEl) nameEl.textContent = data.name;
        
        const descEl = document.getElementById('infoSymbolDesc');
        if (descEl) descEl.textContent = data.desc;
        
        const idEl = document.getElementById('infoSymbolId');
        if (idEl) idEl.textContent = symbol;
        
        // Í∏∞Î≥∏ Ï†ïÎ≥¥
        const lotSizeEl = document.getElementById('infoLotSize');
        if (lotSizeEl) lotSizeEl.textContent = data.lotSize;
        
        const tickSizeEl = document.getElementById('infoTickSize');
        if (tickSizeEl) tickSizeEl.textContent = data.tickSize;
        
        const minLotEl = document.getElementById('infoMinLot');
        if (minLotEl) minLotEl.textContent = data.minLot;
        
        const maxLotEl = document.getElementById('infoMaxLot');
        if (maxLotEl) maxLotEl.textContent = data.maxLot;
        
        const pipSizeEl = document.getElementById('infoPipSize');
        if (pipSizeEl) pipSizeEl.textContent = data.pipSize;
        
        const stopLevelEl = document.getElementById('infoStopLevel');
        if (stopLevelEl) stopLevelEl.textContent = data.stopLevel;
        
        // Ïä§ÌîÑÎ†àÎìú & Ïä§Ïôë
        const spreadEl = document.getElementById('infoSpread');
        if (spreadEl) spreadEl.textContent = data.spread;
        
        const spreadPipsEl = document.getElementById('infoSpreadPips');
        if (spreadPipsEl) spreadPipsEl.textContent = data.spreadPips;
        
        const swapLongEl = document.getElementById('infoSwapLong');
        if (swapLongEl) {
            swapLongEl.textContent = data.swapLong;
            swapLongEl.className = 'info-value ' + (data.swapLongClass || '');
        }
        
        const swapShortEl = document.getElementById('infoSwapShort');
        if (swapShortEl) {
            swapShortEl.textContent = data.swapShort;
            swapShortEl.className = 'info-value ' + (data.swapShortClass || '');
        }
        
        const swap3DayEl = document.getElementById('infoSwap3Day');
        if (swap3DayEl) swap3DayEl.textContent = data.swap3Day;
        
        // Í±∞Îûò ÏãúÍ∞Ñ
        if (data.hours) {
            const sunEl = document.getElementById('infoHoursSun');
            if (sunEl) sunEl.textContent = data.hours.sun;
            
            const monEl = document.getElementById('infoHoursMon');
            if (monEl) monEl.textContent = data.hours.mon;
            
            const tueEl = document.getElementById('infoHoursTue');
            if (tueEl) tueEl.textContent = data.hours.tue;
            
            const wedEl = document.getElementById('infoHoursWed');
            if (wedEl) wedEl.textContent = data.hours.wed;
            
            const thuEl = document.getElementById('infoHoursThu');
            if (thuEl) thuEl.textContent = data.hours.thu;
            
            const friEl = document.getElementById('infoHoursFri');
            if (friEl) friEl.textContent = data.hours.fri;
            
            const satEl = document.getElementById('infoHoursSat');
            if (satEl) {
                satEl.textContent = data.hours.sat;
                satEl.className = data.hours.sat === '‚Äî' ? 'trading-time closed' : 'trading-time';
            }
        }
    }
    
    // Ï∞®Ìä∏ ÎìúÎ°≠Îã§Ïö¥ÏóêÏÑú Ï¢ÖÎ™© ÏÑ†ÌÉù Ïãú Ìò∏Ï∂ú (Ï†ÑÏó≠ Ìï®Ïàò Ïû¨Ï†ïÏùò)
    function selectChartSymbol(element) {
        const symbol = element.dataset.symbol;
        const name = element.dataset.name;
        const icon = element.dataset.icon;
        const color = element.dataset.color;
        
        console.log('[selectChartSymbol] Ï∞®Ìä∏ ÎìúÎ°≠Îã§Ïö¥ Ï¢ÖÎ™© ÏÑ†ÌÉù:', symbol);
        
        // Ï†ÑÏó≠ Î≥ÄÏàò ÏóÖÎç∞Ïù¥Ìä∏
        chartSymbol = symbol;
        localStorage.setItem('last_chart_symbol', symbol);
        
        // Ï∞®Ìä∏ Ìó§Îçî UI ÏóÖÎç∞Ïù¥Ìä∏
        const iconEl = document.getElementById('chartSymbolIcon');
        const nameEl = document.getElementById('chartSymbolName');
        const idEl = document.getElementById('chartSymbolId');
        const dropdown = document.getElementById('chartSymbolDropdown');
        
        if (iconEl) {
            iconEl.textContent = icon;
            iconEl.style.color = color;
        }
        if (nameEl) nameEl.textContent = name;
        if (idEl) idEl.textContent = symbol;
        if (dropdown) dropdown.style.display = 'none';
        
        // Ï∞®Ìä∏ Ïû¨Ï¥àÍ∏∞Ìôî
        if (typeof ChartPanel !== 'undefined') {
            ChartPanel.reinit();
        }
        
        // Ï¢ÖÎ™© Ï†ïÎ≥¥ ÏÑπÏÖò ÏóÖÎç∞Ïù¥Ìä∏
        updateSymbolInfo(symbol);
        
        // Ï¶êÍ≤®Ï∞æÍ∏∞ ÏïÑÏù¥ÏΩò ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
        if (typeof updateZmFavoriteIcon === 'function') {
            updateZmFavoriteIcon();
        }
        
        showToast(name + ' Ï∞®Ìä∏Î°ú Î≥ÄÍ≤Ω', 'success');
    }
    </script>

    <!-- Ï∞®Ìä∏ ÌÉÄÏûÖ Î™®Îã¨ -->
    <div id="chartTypeModalOverlay" class="ct-modal-overlay" onclick="closeChartType()">
        <div class="ct-modal" onclick="event.stopPropagation()">
            <!-- Ìï∏Îì§Î∞î -->
            <div class="ct-modal-handle"></div>
            <!-- Ìó§Îçî -->
            <div class="ct-modal-header">
                <span class="ct-modal-title">Ï∞®Ìä∏ Ï¢ÖÎ•ò</span>
                <button class="ct-modal-close" onclick="closeChartType()">
                    <span class="material-icons-round">close</span>
                </button>
            </div>
            <!-- Ïπ¥Îìú Í∑∏Î¶¨Îìú -->
            <div class="ct-modal-grid">
                <button class="ct-modal-item active" data-type="candlestick" onclick="selectChartType('candlestick')">
                    <div class="ct-icon-box">
                        <span class="material-icons-round">candlestick_chart</span>
                    </div>
                    <div class="ct-item-text">
                        <span class="ct-item-title">Ï∫îÎì§</span>
                        <span class="ct-item-sub">Candlestick</span>
                    </div>
                </button>
                <button class="ct-modal-item" data-type="hollowCandle" onclick="selectChartType('hollowCandle')">
                    <div class="ct-icon-box">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="8" y="4" width="8" height="16" rx="1" fill="none"/>
                            <line x1="12" y1="1" x2="12" y2="4"/>
                            <line x1="12" y1="20" x2="12" y2="23"/>
                        </svg>
                    </div>
                    <div class="ct-item-text">
                        <span class="ct-item-title">Ìï†Î°úÏö∞ Ï∫îÎì§</span>
                        <span class="ct-item-sub">Hollow Candle</span>
                    </div>
                </button>
                <button class="ct-modal-item" data-type="line" onclick="selectChartType('line')">
                    <div class="ct-icon-box">
                        <span class="material-icons-round">show_chart</span>
                    </div>
                    <div class="ct-item-text">
                        <span class="ct-item-title">ÎùºÏù∏</span>
                        <span class="ct-item-sub">Line Chart</span>
                    </div>
                </button>
                <button class="ct-modal-item" data-type="bar" onclick="selectChartType('bar')">
                    <div class="ct-icon-box">
                        <span class="material-icons-round">bar_chart</span>
                    </div>
                    <div class="ct-item-text">
                        <span class="ct-item-title">OHLC Î∞î</span>
                        <span class="ct-item-sub">Bar Chart</span>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- ÌÉÄÏûÑÌîÑÎ†àÏûÑ Î™®Îã¨ (ÏÉà ÎîîÏûêÏù∏) -->
    <div id="tfModalOverlay" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.75); backdrop-filter:blur(8px); z-index:99999; justify-content:center; align-items:center;" onclick="closeTfPopup()">
        <div onclick="event.stopPropagation()" style="background:#1e2738; border-radius:24px; min-width:300px; max-width:340px; box-shadow:0 20px 60px rgba(0,0,0,0.6); overflow:hidden;">
            <!-- ÏÉÅÎã® Î∞î -->
            <div style="width:40px; height:4px; background:#3a4553; border-radius:2px; margin:12px auto 0;"></div>
            <!-- Ìó§Îçî -->
            <div style="padding:20px 24px 16px;">
                <span style="font-size:18px; font-weight:600; color:#ffffff; letter-spacing:-0.3px;">ÌÉÄÏûÑÌîÑÎ†àÏûÑ</span>
            </div>
            <!-- Î≤ÑÌäº Í∑∏Î¶¨Îìú -->
            <div style="display:grid; grid-template-columns:repeat(2,1fr); gap:10px; padding:0 20px 24px;">
                <button class="tf-modal-item active" data-tf="M1" onclick="selectTimeframe('M1','1M')" style="padding:14px 20px; background:#2a3444; border:none; border-radius:14px; color:#ffffff; font-size:15px; font-weight:500; cursor:pointer; transition:all 0.2s;">1M</button>
<button class="tf-modal-item" data-tf="M5" onclick="selectTimeframe('M5','5M')" style="padding:14px 20px; background:#2a3444; border:none; border-radius:14px; color:#ffffff; font-size:15px; font-weight:500; cursor:pointer; transition:all 0.2s;">5M</button>
<button class="tf-modal-item" data-tf="M15" onclick="selectTimeframe('M15','15M')" style="padding:14px 20px; background:#2a3444; border:none; border-radius:14px; color:#ffffff; font-size:15px; font-weight:500; cursor:pointer; transition:all 0.2s;">15M</button>
<button class="tf-modal-item" data-tf="M30" onclick="selectTimeframe('M30','30M')" style="padding:14px 20px; background:#2a3444; border:none; border-radius:14px; color:#ffffff; font-size:15px; font-weight:500; cursor:pointer; transition:all 0.2s;">30M</button>
<button class="tf-modal-item" data-tf="H1" onclick="selectTimeframe('H1','1H')" style="padding:14px 20px; background:#2a3444; border:none; border-radius:14px; color:#ffffff; font-size:15px; font-weight:500; cursor:pointer; transition:all 0.2s;">1H</button>
<button class="tf-modal-item" data-tf="H4" onclick="selectTimeframe('H4','4H')" style="padding:14px 20px; background:#2a3444; border:none; border-radius:14px; color:#ffffff; font-size:15px; font-weight:500; cursor:pointer; transition:all 0.2s;">4H</button>
<button class="tf-modal-item" data-tf="D1" onclick="selectTimeframe('D1','1D')" style="padding:14px 20px; background:#2a3444; border:none; border-radius:14px; color:#ffffff; font-size:15px; font-weight:500; cursor:pointer; transition:all 0.2s;">1D</button>
<button class="tf-modal-item" data-tf="W1" onclick="selectTimeframe('W1','1W')" style="padding:14px 20px; background:#2a3444; border:none; border-radius:14px; color:#ffffff; font-size:15px; font-weight:500; cursor:pointer; transition:all 0.2s;">1W</button>
            </div>
        </div>
    </div>

    <!-- Î≥¥Ï°∞ÏßÄÌëú Î™®Îã¨ -->
    <div id="indModalOverlay" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.75); backdrop-filter:blur(8px); z-index:99999; justify-content:center; align-items:center;" onclick="closeIndPopup()">
        <div class="ind-modal" onclick="event.stopPropagation()">
            <!-- Ìó§Îçî -->
            <div class="ind-modal-header">
                <span class="ind-modal-title">Î≥¥Ï°∞ÏßÄÌëú</span>
                <button class="ind-modal-close" onclick="closeIndPopup()">‚úï</button>
            </div>
            
            <!-- Í≤ÄÏÉâ -->
            <div class="ind-modal-search">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
                <input type="text" id="indSearchInput" placeholder="ÏßÄÌëú Í≤ÄÏÉâ..." oninput="filterIndicators(this.value)">
            </div>

            <!-- Ìå®ÎÑê ÏßÄÌëú Í∞úÏàò ÏïàÎÇ¥ -->
            <div class="ind-panel-limit-notice">
                <span class="material-icons-round" style="font-size: 14px;">info</span>
                <span>Ìå®ÎÑê ÏßÄÌëú(RSI, MACD Îì±)Îäî ÏµúÎåÄ <strong>3Í∞ú</strong>ÍπåÏßÄ Ï∂îÍ∞Ä Í∞ÄÎä•</span>
            </div>
            
            <!-- ÏßÄÌëú Î¶¨Ïä§Ìä∏ -->
            <div class="ind-modal-list" id="indModalList">
                
                <!-- ===== Ïò§Î≤ÑÎ†àÏù¥ ÏßÄÌëú (Ï∞®Ìä∏ ÏúÑ) ===== -->
                <div class="ind-category-header"><span class="material-icons-round">show_chart</span> Ïò§Î≤ÑÎ†àÏù¥ ÏßÄÌëú</div>
                
                <!-- Ïù¥ÎèôÌèâÍ∑† Í≥ÑÏó¥ -->
                <div class="ind-item" data-ind="sma" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #9C27B0;"></div>
                    <div class="ind-info">
                        <span class="ind-name">SMA (200)</span><span class="ind-desc">¬∑ Îã®ÏàúÏù¥ÎèôÌèâÍ∑†</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="ema" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #E91E63;"></div>
                    <div class="ind-info">
                        <span class="ind-name">EMA (20)</span><span class="ind-desc">¬∑ ÏßÄÏàòÏù¥ÎèôÌèâÍ∑†</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="lwma" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox checked"></div>
                    <div class="ind-color-dot" style="background: #FFC107;"></div>
                    <div class="ind-info">
                        <span class="ind-name">LWMA (50)</span><span class="ind-desc">¬∑ ÏÑ†ÌòïÍ∞ÄÏ§ëÏù¥ÎèôÌèâÍ∑†</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="wma" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #FF5722;"></div>
                    <div class="ind-info">
                        <span class="ind-name">WMA (14)</span><span class="ind-desc">¬∑ Í∞ÄÏ§ëÏù¥ÎèôÌèâÍ∑†</span>
                    </div>
                </div>

                <!-- Î∞¥Îìú/Ï±ÑÎÑê Í≥ÑÏó¥ -->
                <div class="ind-item" data-ind="bb" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox checked"></div>
                    <div class="ind-color-dot" style="background: #2196F3;"></div>
                    <div class="ind-info">
                        <span class="ind-name">Bollinger Bands</span><span class="ind-desc">¬∑ Î≥ºÎ¶∞Ï†Ä Î∞¥Îìú</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="keltner" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #00ACC1;"></div>
                    <div class="ind-info">
                        <span class="ind-name">Keltner Channel</span><span class="ind-desc">¬∑ ÏºàÌä∏ÎÑà Ï±ÑÎÑê</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="donchian" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #26A69A;"></div>
                    <div class="ind-info">
                        <span class="ind-name">Donchian Channel</span><span class="ind-desc">¬∑ ÎèàÏπòÏïà Ï±ÑÎÑê</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="envelope" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #7E57C2;"></div>
                    <div class="ind-info">
                        <span class="ind-name">Envelope</span><span class="ind-desc">¬∑ ÏóîÎ≤®Î°úÌîÑ</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="psar" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #FFEB3B;"></div>
                    <div class="ind-info">
                        <span class="ind-name">Parabolic SAR</span><span class="ind-desc">¬∑ ÌååÎùºÎ≥ºÎ¶≠</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="ichimoku" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #E040FB;"></div>
                    <div class="ind-info">
                        <span class="ind-name">Ichimoku Cloud</span><span class="ind-desc">¬∑ ÏùºÎ™©Í∑†ÌòïÌëú</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="vwap" data-type="overlay" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #673AB7;"></div>
                    <div class="ind-info">
                        <span class="ind-name">VWAP</span><span class="ind-desc">¬∑ Í±∞ÎûòÎüâÍ∞ÄÏ§ëÌèâÍ∑†</span>
                    </div>
                </div>

                <!-- ===== Ìå®ÎÑê ÏßÄÌëú (Ï∞®Ìä∏ ÏïÑÎûò) ===== -->
                <div class="ind-category-header"><span class="material-icons-round">analytics</span> Ìå®ÎÑê ÏßÄÌëú <span class="panel-count">(0/3)</span></div>

                <div class="ind-item" data-ind="rsi" data-type="panel" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #00BCD4;"></div>
                    <div class="ind-info">
                        <span class="ind-name">RSI (14)</span><span class="ind-desc">¬∑ ÏÉÅÎåÄÍ∞ïÎèÑÏßÄÏàò</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="macd" data-type="panel" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #4CAF50;"></div>
                    <div class="ind-info">
                        <span class="ind-name">MACD</span><span class="ind-desc">¬∑ Ïù¥ÎèôÌèâÍ∑†ÏàòÎ†¥ÌôïÏÇ∞</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="stoch" data-type="panel" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #FF9800;"></div>
                    <div class="ind-info">
                        <span class="ind-name">Stochastic</span><span class="ind-desc">¬∑ Ïä§ÌÜ†Ï∫êÏä§Ìã±</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="cci" data-type="panel" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #8BC34A;"></div>
                    <div class="ind-info">
                        <span class="ind-name">CCI (20)</span><span class="ind-desc">¬∑ ÏÉÅÌíàÏ±ÑÎÑêÏßÄÏàò</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="williams" data-type="panel" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #F44336;"></div>
                    <div class="ind-info">
                        <span class="ind-name">Williams %R</span><span class="ind-desc">¬∑ ÏúåÎ¶¨ÏóÑÏä§</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="mfi" data-type="panel" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #009688;"></div>
                    <div class="ind-info">
                        <span class="ind-name">MFI (14)</span><span class="ind-desc">¬∑ ÏûêÍ∏àÌùêÎ¶ÑÏßÄÏàò</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="atr" data-type="panel" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #795548;"></div>
                    <div class="ind-info">
                        <span class="ind-name">ATR (14)</span><span class="ind-desc">¬∑ ÌèâÍ∑†ÏßÑÌè≠</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="adx" data-type="panel" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #607D8B;"></div>
                    <div class="ind-info">
                        <span class="ind-name">ADX (14)</span><span class="ind-desc">¬∑ ÌèâÍ∑†Î∞©Ìñ•ÏßÄÏàò</span>
                    </div>
                </div>
                <div class="ind-item" data-ind="obv" data-type="panel" onclick="toggleIndicator(this)">
                    <div class="ind-checkbox"></div>
                    <div class="ind-color-dot" style="background: #3F51B5;"></div>
                    <div class="ind-info">
                        <span class="ind-name">OBV</span><span class="ind-desc">¬∑ Í±∞ÎûòÎüâÍ∑†Ìòï</span>
                    </div>
                </div>
            </div>
            
            <!-- Ìë∏ÌÑ∞ -->
            <div class="ind-modal-footer">
                <button class="ind-btn-reset" onclick="resetIndicators()">Ï¥àÍ∏∞Ìôî</button>
                <button class="ind-btn-apply" onclick="applyIndicators()">Ï†ÅÏö©ÌïòÍ∏∞</button>
            </div>
        </div>
    </div>

    <script src="js/market-schedule.js?v=1771411688"></script>
    <script src="js/account.js?v=1771411688"></script>
    <script src="js/trading.js?v=1771411688"></script>
    <script src="js/connection.js?v=1771411688"></script>
    <script src="js/init.js?v=1771411688"></script>
</body>
</html>
